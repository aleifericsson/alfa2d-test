(()=>{"use strict";var t={426:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"body{\n    background-color: #242424;\n}","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,yBAAyB;AAC7B",sourcesContent:["body{\n    background-color: #242424;\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=i[u]||0,p="".concat(u," ").concat(l);i[u]=l+1;var d=n(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=o(f,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:h,references:1})}a.push(p)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),u=0;u<i.length;u++){var l=n(i[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!t;)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),o=n.n(r),i=n(569),a=n.n(i),s=n(565),c=n.n(s),u=n(216),l=n.n(u),p=n(589),d=n.n(p),f=n(426),h={};h.styleTagTransform=d(),h.setAttributes=c(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=l(),e()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const m=(t,e)=>{t.appendChild(e)},g=t=>document.createElement(t),v=(t,e)=>{e.forEach((e=>{t.classList.add(e)}))},y=(t,e,n)=>{t.addEventListener(e,n)},w=(t,e)=>{t.style.cssText=e},b=(t,e,n)=>{e.map(((e,r)=>{t.setAttribute(e,n[r])}))},x=n.p+"d6da9f23976e4998ab40.png";function F(t,e,n,r,o,i,a){this.name=t,this.imgsrc=e,this.frames=n,this.size=o,this.currentFrame=0,this.x=i,this.y=a,this.twos=r,this.draw=function(t){let e=new Image;e.src=this.imgsrc;const n=this.size;let r;r=this.twos?Math.floor(this.currentFrame):this.currentFrame;const o=this.x,i=this.y;e.onload=function(){t.clearRect(o,i,n,n),t.drawImage(e,r*n,0,n,n,o,i,n,n)}},this.nextFrame=function(){this.twos?this.currentFrame+=.5:this.currentFrame+=1,this.currentFrame>=n&&(this.currentFrame=0)}}const A=[],C=n.p+"89cc97a32f3bdd1a1f7c.png";let E;const I=(t,e,n)=>{M(E,t)},M=(t,e)=>{t.forEach(((t,n)=>{t.forEach(((t,r)=>{T(t,n,r,e)}))}))},T=(t,e,n,r)=>{const o=64;let i=new Image;i.src=C,i.onload=function(){r.drawImage(i,t*o,0,o,o,e*o,n*o,o,o)}},S=(t,e)=>{const n=Math.floor(e.x/64),r=Math.floor(e.y/64);let o=E[n][r];o++,20==o&&(o=0),((t,e,n)=>{E[t][e]=n,console.log(E)})(n,r,o)},$=1e3/30;let j=window.performance.now();const L=(t,e,n)=>{const r=g("canvas");v(r,["game-canvas",`layer-${n}`]),b(r,["width","height"],[`${t}px`,`${e}px`]),w(r,"\n        position:absolute;\n    ");const o=r.getContext("2d");return(t=>{y(t,"click",(e=>{t.getContext("2d");const n=function(t,e){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}(t,e);t.classList.contains("layer-1")&&S(0,n)}))})(r),0===n&&((t,e,n)=>{E=new Array(10).fill(0).map((()=>new Array(10).fill(10))),E[2][1]=11,E[9][9]=18,E[9][8]=18,E[8][8]=19,E[8][9]=19,console.log(E),I(t)})(o),1===n&&(t=>{(()=>{const t=new F("coin_1",x,12,!0,64,50,50);A.push(t)})(),A.forEach((e=>{e.draw(t),e.nextFrame()}))})(o),r};const R=t=>{(".layer-1",document.querySelector(".layer-1")).style.left=`${t.target.value}px`},k=n.p+"2ef5ad381915dbcfb9b2.png";window.performance.now();let B=[];function N(t,e){this.name=t,this.size=64,this.img=e,this.currentFrame=0,this.orix,this.oriy,this.elex,this.eley,this.dragging=!1,this.ele,this.ctx,this.init=()=>{const e=this.size;t=this.name;const n=g("canvas");v(n,["mini-canvas",`${t}`]),b(n,["width","height"],[`${e}px`,`${e}px`]);const r=document.body.getBoundingClientRect();this.elex=r.left,this.eley=r.top,this.orix=r.left,this.oriy=r.top,console.log(this.elex,this.eley),w(n,"\n            position:absolute;\n        ");const o=n.getContext("2d"),i=this.img;return i.onload=function(){o.clearRect(0,0,e,e),o.drawImage(i,0,0,e,e,0,0,e,e)},this.initMouse(n),this.ele=n,this.ctx=o,n},this.initMouse=t=>{this.ctx,t.addEventListener("drag",(e=>{getMousePos(t,evt),drag=!0})),t.addEventListener("drop",(t=>{drag=!1}))}}(()=>{const t=640,e=(()=>{const t=g("div");return v(t,["wrapper"]),w(t,"\n        position:relative;\n    "),m(document.body,t),t})(),n=L(t,t,0),r=L(t,t,1);m(e,n),m(e,r),console.log("commencing"),function(t,e,n){const r=()=>{window.requestAnimationFrame(r);const e=window.performance.now(),n=e-j;n<$||(j=e-n%$,t.map(((t,e)=>{const n=t.getContext("2d");0===e&&I(n),1===e&&(t=>{A.forEach((e=>{e.draw(t),e.nextFrame()}))})(n)})))};r()}([n,r])})(),(()=>{const t=(()=>{const t=g("div");return v(t,["mini-wrapper"]),w(t,"\n        position:relative;\n        background-color: #FFFFFF;\n        top: 650px;\n        height: 80px;\n        width: 640px;\n    "),m(document.body,t),t})();m(t,((t,e)=>{const n=new Image;n.src=e;const r=new N("can",n);return B.push(r),r.init()})(0,k))})(),m(document.body,(()=>{const t=g("div");v(t,["debug-wrapper"]),w(t,"\n        position:relative;\n        top:660px;\n    ");const e=g("input");return y(e,"input",R),b(e,["type","min","max","value","class"],["range","0","640","0","slidey"]),m(t,e),t})())})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoid0ZBR0lBLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksMkNBRXJDLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLDZCQUE2QixNQUFRLEdBQUcsU0FBVyx5QkFBeUIsZUFBaUIsQ0FBQyw0Q0FBNEMsV0FBYSxNQUV0TCxTLFVDSEFELEVBQU9FLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQTRFWCxPQXpFQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFBVSxHQUNWQyxPQUErQixJQUFaRixFQUFLLEdBb0I1QixPQW5CSUEsRUFBSyxLQUNQQyxHQUFXLGNBQWNFLE9BQU9ILEVBQUssR0FBSSxRQUV2Q0EsRUFBSyxLQUNQQyxHQUFXLFVBQVVFLE9BQU9ILEVBQUssR0FBSSxPQUVuQ0UsSUFDRkQsR0FBVyxTQUFTRSxPQUFPSCxFQUFLLEdBQUdJLE9BQVMsRUFBSSxJQUFJRCxPQUFPSCxFQUFLLElBQU0sR0FBSSxPQUU1RUMsR0FBV04sRUFBdUJLLEdBQzlCRSxJQUNGRCxHQUFXLEtBRVRELEVBQUssS0FDUEMsR0FBVyxLQUVURCxFQUFLLEtBQ1BDLEdBQVcsS0FFTkEsQ0FDVCxJQUFHSSxLQUFLLEdBQ1YsRUFHQVQsRUFBS1UsRUFBSSxTQUFXQyxFQUFTQyxFQUFPQyxFQUFRQyxFQUFVQyxHQUM3QixpQkFBWkosSUFDVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsT0FBU0ssS0FFN0IsSUFBSUMsRUFBeUIsQ0FBQyxFQUM5QixHQUFJSixFQUNGLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJaEIsS0FBS00sT0FBUVUsSUFBSyxDQUNwQyxJQUFJckIsRUFBS0ssS0FBS2dCLEdBQUcsR0FDUCxNQUFOckIsSUFDRm9CLEVBQXVCcEIsSUFBTSxFQUVqQyxDQUVGLElBQUssSUFBSXNCLEVBQUssRUFBR0EsRUFBS1IsRUFBUUgsT0FBUVcsSUFBTSxDQUMxQyxJQUFJZixFQUFPLEdBQUdHLE9BQU9JLEVBQVFRLElBQ3pCTixHQUFVSSxFQUF1QmIsRUFBSyxXQUdyQixJQUFWVyxTQUNjLElBQVpYLEVBQUssS0FHZEEsRUFBSyxHQUFLLFNBQVNHLE9BQU9ILEVBQUssR0FBR0ksT0FBUyxFQUFJLElBQUlELE9BQU9ILEVBQUssSUFBTSxHQUFJLE1BQU1HLE9BQU9ILEVBQUssR0FBSSxNQUYvRkEsRUFBSyxHQUFLVyxHQU1WSCxJQUNHUixFQUFLLElBR1JBLEVBQUssR0FBSyxVQUFVRyxPQUFPSCxFQUFLLEdBQUksTUFBTUcsT0FBT0gsRUFBSyxHQUFJLEtBQzFEQSxFQUFLLEdBQUtRLEdBSFZSLEVBQUssR0FBS1EsR0FNVkUsSUFDR1YsRUFBSyxJQUdSQSxFQUFLLEdBQUssY0FBY0csT0FBT0gsRUFBSyxHQUFJLE9BQU9HLE9BQU9ILEVBQUssR0FBSSxLQUMvREEsRUFBSyxHQUFLVSxHQUhWVixFQUFLLEdBQUssR0FBR0csT0FBT08sSUFNeEJkLEVBQUtMLEtBQUtTLEdBQ1osQ0FDRixFQUNPSixDQUNULEMsVUNsRkFKLEVBQU9FLFFBQVUsU0FBVU0sR0FDekIsSUFBSUMsRUFBVUQsRUFBSyxHQUNmZ0IsRUFBYWhCLEVBQUssR0FDdEIsSUFBS2dCLEVBQ0gsT0FBT2YsRUFFVCxHQUFvQixtQkFBVGdCLEtBQXFCLENBQzlCLElBQUlDLEVBQVNELEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVU4sTUFDekRPLEVBQU8sK0RBQStEcEIsT0FBT2UsR0FDN0VNLEVBQWdCLE9BQU9yQixPQUFPb0IsRUFBTSxPQUN4QyxNQUFPLENBQUN0QixHQUFTRSxPQUFPLENBQUNxQixJQUFnQm5CLEtBQUssS0FDaEQsQ0FDQSxNQUFPLENBQUNKLEdBQVNJLEtBQUssS0FDeEIsQyxVQ2JBLElBQUlvQixFQUFjLEdBQ2xCLFNBQVNDLEVBQXFCQyxHQUU1QixJQURBLElBQUlDLEdBQVUsRUFDTHRCLEVBQUksRUFBR0EsRUFBSW1CLEVBQVlyQixPQUFRRSxJQUN0QyxHQUFJbUIsRUFBWW5CLEdBQUdxQixhQUFlQSxFQUFZLENBQzVDQyxFQUFTdEIsRUFDVCxLQUNGLENBRUYsT0FBT3NCLENBQ1QsQ0FDQSxTQUFTQyxFQUFhakMsRUFBTWtDLEdBRzFCLElBRkEsSUFBSUMsRUFBYSxDQUFDLEVBQ2RDLEVBQWMsR0FDVDFCLEVBQUksRUFBR0EsRUFBSVYsRUFBS1EsT0FBUUUsSUFBSyxDQUNwQyxJQUFJTixFQUFPSixFQUFLVSxHQUNaYixFQUFLcUMsRUFBUUcsS0FBT2pDLEVBQUssR0FBSzhCLEVBQVFHLEtBQU9qQyxFQUFLLEdBQ2xEa0MsRUFBUUgsRUFBV3RDLElBQU8sRUFDMUJrQyxFQUFhLEdBQUd4QixPQUFPVixFQUFJLEtBQUtVLE9BQU8rQixHQUMzQ0gsRUFBV3RDLEdBQU15QyxFQUFRLEVBQ3pCLElBQUlDLEVBQW9CVCxFQUFxQkMsR0FDekNTLEVBQU0sQ0FDUkMsSUFBS3JDLEVBQUssR0FDVlEsTUFBT1IsRUFBSyxHQUNac0MsVUFBV3RDLEVBQUssR0FDaEJVLFNBQVVWLEVBQUssR0FDZlcsTUFBT1gsRUFBSyxJQUVkLElBQTJCLElBQXZCbUMsRUFDRlYsRUFBWVUsR0FBbUJJLGFBQy9CZCxFQUFZVSxHQUFtQkssUUFBUUosT0FDbEMsQ0FDTCxJQUFJSSxFQUFVQyxFQUFnQkwsRUFBS04sR0FDbkNBLEVBQVFZLFFBQVVwQyxFQUNsQm1CLEVBQVlrQixPQUFPckMsRUFBRyxFQUFHLENBQ3ZCcUIsV0FBWUEsRUFDWmEsUUFBU0EsRUFDVEQsV0FBWSxHQUVoQixDQUNBUCxFQUFZekMsS0FBS29DLEVBQ25CLENBQ0EsT0FBT0ssQ0FDVCxDQUNBLFNBQVNTLEVBQWdCTCxFQUFLTixHQUM1QixJQUFJYyxFQUFNZCxFQUFRZSxPQUFPZixHQVl6QixPQVhBYyxFQUFJRSxPQUFPVixHQUNHLFNBQWlCVyxHQUM3QixHQUFJQSxFQUFRLENBQ1YsR0FBSUEsRUFBT1YsTUFBUUQsRUFBSUMsS0FBT1UsRUFBT3ZDLFFBQVU0QixFQUFJNUIsT0FBU3VDLEVBQU9ULFlBQWNGLEVBQUlFLFdBQWFTLEVBQU9yQyxXQUFhMEIsRUFBSTFCLFVBQVlxQyxFQUFPcEMsUUFBVXlCLEVBQUl6QixNQUN6SixPQUVGaUMsRUFBSUUsT0FBT1YsRUFBTVcsRUFDbkIsTUFDRUgsRUFBSUksUUFFUixDQUVGLENBQ0F4RCxFQUFPRSxRQUFVLFNBQVVFLEVBQU1rQyxHQUcvQixJQUFJbUIsRUFBa0JwQixFQUR0QmpDLEVBQU9BLEdBQVEsR0FEZmtDLEVBQVVBLEdBQVcsQ0FBQyxHQUd0QixPQUFPLFNBQWdCb0IsR0FDckJBLEVBQVVBLEdBQVcsR0FDckIsSUFBSyxJQUFJNUMsRUFBSSxFQUFHQSxFQUFJMkMsRUFBZ0I3QyxPQUFRRSxJQUFLLENBQy9DLElBQ0k2QyxFQUFRekIsRUFES3VCLEVBQWdCM0MsSUFFakNtQixFQUFZMEIsR0FBT1osWUFDckIsQ0FFQSxJQURBLElBQUlhLEVBQXFCdkIsRUFBYXFCLEVBQVNwQixHQUN0Q3VCLEVBQUssRUFBR0EsRUFBS0osRUFBZ0I3QyxPQUFRaUQsSUFBTSxDQUNsRCxJQUNJQyxFQUFTNUIsRUFES3VCLEVBQWdCSSxJQUVLLElBQW5DNUIsRUFBWTZCLEdBQVFmLGFBQ3RCZCxFQUFZNkIsR0FBUWQsVUFDcEJmLEVBQVlrQixPQUFPVyxFQUFRLEdBRS9CLENBQ0FMLEVBQWtCRyxDQUNwQixDQUNGLEMsVUNqRkEsSUFBSUcsRUFBTyxDQUFDLEVBK0JaL0QsRUFBT0UsUUFQUCxTQUEwQjhELEVBQVFDLEdBQ2hDLElBQUlDLEVBdEJOLFNBQW1CQSxHQUNqQixRQUE0QixJQUFqQkgsRUFBS0csR0FBeUIsQ0FDdkMsSUFBSUMsRUFBY0MsU0FBU0MsY0FBY0gsR0FHekMsR0FBSUksT0FBT0MsbUJBQXFCSixhQUF1QkcsT0FBT0Msa0JBQzVELElBR0VKLEVBQWNBLEVBQVlLLGdCQUFnQkMsSUFDNUMsQ0FBRSxNQUFPQyxHQUVQUCxFQUFjLElBQ2hCLENBRUZKLEVBQUtHLEdBQVVDLENBQ2pCLENBQ0EsT0FBT0osRUFBS0csRUFDZCxDQUllUyxDQUFVWCxHQUN2QixJQUFLRSxFQUNILE1BQU0sSUFBSVUsTUFBTSwyR0FFbEJWLEVBQU9XLFlBQVlaLEVBQ3JCLEMsVUN2QkFqRSxFQUFPRSxRQU5QLFNBQTRCb0MsR0FDMUIsSUFBSXdDLEVBQVVWLFNBQVNXLGNBQWMsU0FHckMsT0FGQXpDLEVBQVEwQyxjQUFjRixFQUFTeEMsRUFBUTJDLFlBQ3ZDM0MsRUFBUTBCLE9BQU9jLEVBQVN4QyxFQUFRQSxTQUN6QndDLENBQ1QsQyxnQkNDQTlFLEVBQU9FLFFBTlAsU0FBd0NnRixHQUN0QyxJQUFJQyxFQUFtRCxLQUNuREEsR0FDRkQsRUFBYUUsYUFBYSxRQUFTRCxFQUV2QyxDLFVDb0RBbkYsRUFBT0UsUUFqQlAsU0FBZ0JvQyxHQUNkLEdBQXdCLG9CQUFiOEIsU0FDVCxNQUFPLENBQ0xkLE9BQVEsV0FBbUIsRUFDM0JFLE9BQVEsV0FBbUIsR0FHL0IsSUFBSTBCLEVBQWU1QyxFQUFRK0MsbUJBQW1CL0MsR0FDOUMsTUFBTyxDQUNMZ0IsT0FBUSxTQUFnQlYsSUFqRDVCLFNBQWVzQyxFQUFjNUMsRUFBU00sR0FDcEMsSUFBSUMsRUFBTSxHQUNORCxFQUFJMUIsV0FDTjJCLEdBQU8sY0FBY2xDLE9BQU9pQyxFQUFJMUIsU0FBVSxRQUV4QzBCLEVBQUk1QixRQUNONkIsR0FBTyxVQUFVbEMsT0FBT2lDLEVBQUk1QixNQUFPLE9BRXJDLElBQUlOLE9BQWlDLElBQWRrQyxFQUFJekIsTUFDdkJULElBQ0ZtQyxHQUFPLFNBQVNsQyxPQUFPaUMsRUFBSXpCLE1BQU1QLE9BQVMsRUFBSSxJQUFJRCxPQUFPaUMsRUFBSXpCLE9BQVMsR0FBSSxPQUU1RTBCLEdBQU9ELEVBQUlDLElBQ1BuQyxJQUNGbUMsR0FBTyxLQUVMRCxFQUFJNUIsUUFDTjZCLEdBQU8sS0FFTEQsRUFBSTFCLFdBQ04yQixHQUFPLEtBRVQsSUFBSUMsRUFBWUYsRUFBSUUsVUFDaEJBLEdBQTZCLG9CQUFUckIsT0FDdEJvQixHQUFPLHVEQUF1RGxDLE9BQU9jLEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVWdCLE1BQWUsUUFLdElSLEVBQVFnRCxrQkFBa0J6QyxFQUFLcUMsRUFBYzVDLEVBQVFBLFFBQ3ZELENBb0JNaUQsQ0FBTUwsRUFBYzVDLEVBQVNNLEVBQy9CLEVBQ0FZLE9BQVEsWUFyQlosU0FBNEIwQixHQUUxQixHQUFnQyxPQUE1QkEsRUFBYU0sV0FDZixPQUFPLEVBRVROLEVBQWFNLFdBQVdDLFlBQVlQLEVBQ3RDLENBZ0JNUSxDQUFtQlIsRUFDckIsRUFFSixDLFVDOUNBbEYsRUFBT0UsUUFWUCxTQUEyQjJDLEVBQUtxQyxHQUM5QixHQUFJQSxFQUFhUyxXQUNmVCxFQUFhUyxXQUFXQyxRQUFVL0MsTUFDN0IsQ0FDTCxLQUFPcUMsRUFBYVcsWUFDbEJYLEVBQWFPLFlBQVlQLEVBQWFXLFlBRXhDWCxFQUFhTCxZQUFZVCxTQUFTMEIsZUFBZWpELEdBQ25ELENBQ0YsQyxHQ1hJa0QsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCN0UsSUFBakI4RSxFQUNILE9BQU9BLEVBQWFoRyxRQUdyQixJQUFJRixFQUFTK0YsRUFBeUJFLEdBQVksQ0FDakRoRyxHQUFJZ0csRUFFSi9GLFFBQVMsQ0FBQyxHQU9YLE9BSEFpRyxFQUFvQkYsR0FBVWpHLEVBQVFBLEVBQU9FLFFBQVM4RixHQUcvQ2hHLEVBQU9FLE9BQ2YsQ0NyQkE4RixFQUFvQkksRUFBS3BHLElBQ3hCLElBQUlxRyxFQUFTckcsR0FBVUEsRUFBT3NHLFdBQzdCLElBQU90RyxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQWdHLEVBQW9CTyxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxDQUFNLEVDTGRMLEVBQW9CTyxFQUFJLENBQUNyRyxFQUFTdUcsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYVCxFQUFvQlcsRUFBRUYsRUFBWUMsS0FBU1YsRUFBb0JXLEVBQUV6RyxFQUFTd0csSUFDNUVFLE9BQU9DLGVBQWUzRyxFQUFTd0csRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRWLEVBQW9CZ0IsRUFBSSxXQUN2QixHQUEwQixpQkFBZkMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPM0csTUFBUSxJQUFJNEcsU0FBUyxjQUFiLEVBQ2hCLENBQUUsTUFBT3hDLEdBQ1IsR0FBc0IsaUJBQVhKLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsR0NBeEIwQixFQUFvQlcsRUFBSSxDQUFDL0QsRUFBS3VFLElBQVVQLE9BQU9RLFVBQVVDLGVBQWVDLEtBQUsxRSxFQUFLdUUsRyxNQ0FsRixJQUFJSSxFQUNBdkIsRUFBb0JnQixFQUFFUSxnQkFBZUQsRUFBWXZCLEVBQW9CZ0IsRUFBRVMsU0FBVyxJQUN0RixJQUFJckQsRUFBVzRCLEVBQW9CZ0IsRUFBRTVDLFNBQ3JDLElBQUttRCxHQUFhbkQsSUFDYkEsRUFBU3NELGdCQUNaSCxFQUFZbkQsRUFBU3NELGNBQWNDLE1BQy9CSixHQUFXLENBQ2YsSUFBSUssRUFBVXhELEVBQVN5RCxxQkFBcUIsVUFDNUMsR0FBR0QsRUFBUWhILE9BRVYsSUFEQSxJQUFJRSxFQUFJOEcsRUFBUWhILE9BQVMsRUFDbEJFLEdBQUssSUFBTXlHLEdBQVdBLEVBQVlLLEVBQVE5RyxLQUFLNkcsR0FFeEQsQ0FJRCxJQUFLSixFQUFXLE1BQU0sSUFBSTNDLE1BQU0seURBQ2hDMkMsRUFBWUEsRUFBVU8sUUFBUSxPQUFRLElBQUlBLFFBQVEsUUFBUyxJQUFJQSxRQUFRLFlBQWEsS0FDcEY5QixFQUFvQitCLEVBQUlSLEMsS0NsQnhCdkIsRUFBb0JnQyxRQUFLNUcsRSwrSENXckJrQixFQUFVLENBQUMsRUFFZkEsRUFBUWdELGtCQUFvQixJQUM1QmhELEVBQVEwQyxjQUFnQixJQUVsQjFDLEVBQVEwQixPQUFTLFNBQWMsS0FBTSxRQUUzQzFCLEVBQVFlLE9BQVMsSUFDakJmLEVBQVErQyxtQkFBcUIsSUFFaEIsSUFBSSxJQUFTL0MsR0FLSixLQUFXLElBQVEyRixRQUFTLElBQVFBLE9BQW5ELE1DMUJEQyxFQUFTLENBQUNDLEVBQVFDLEtBQ3BCRCxFQUFPdEQsWUFBWXVELEVBQU0sRUFHdkJDLEVBQVV2RCxHQUNMVixTQUFTVyxjQUFjRCxHQUc1QndELEVBQVcsQ0FBQ3hELEVBQVN5RCxLQUN2QkEsRUFBVUMsU0FBUUMsSUFBUzNELEVBQVE0RCxVQUFVQyxJQUFJRixFQUFJLEdBQUcsRUFtQnRERyxFQUFTLENBQUM5RCxFQUFTK0QsRUFBT0MsS0FDNUJoRSxFQUFRaUUsaUJBQWlCRixFQUFPQyxFQUFLLEVBR25DLEVBQVEsQ0FBQ2hFLEVBQVNrRSxLQUNwQmxFLEVBQVFiLE1BQU0yQixRQUFVb0QsQ0FBUyxFQUcvQkMsRUFBVSxDQUFDbkUsRUFBU29FLEVBQVlDLEtBQ2xDRCxFQUFXM0ksS0FBSSxDQUFDNkksRUFBT3pGLEtBQ25CbUIsRUFBUU0sYUFBYWdFLEVBQVFELEVBQU94RixHQUFPLEdBQzlDLEUsaUNDckNMLFNBQVMwRixFQUFPQyxFQUFLQyxFQUFRQyxFQUFRQyxFQUFNQyxFQUFNQyxFQUFHQyxHQUNoRHRKLEtBQUtnSixLQUFPQSxFQUNaaEosS0FBS2lKLE9BQVNBLEVBQ2RqSixLQUFLa0osT0FBU0EsRUFDZGxKLEtBQUtvSixLQUFPQSxFQUNacEosS0FBS3VKLGFBQWUsRUFDcEJ2SixLQUFLcUosRUFBSUEsRUFDVHJKLEtBQUtzSixFQUFJQSxFQUNUdEosS0FBS21KLEtBQU9BLEVBQ1puSixLQUFLd0osS0FBTyxTQUFTQyxHQUNqQixJQUFJQyxFQUFNLElBQUlDLE1BQ2RELEVBQUlyQyxJQUFNckgsS0FBS2lKLE9BQ2YsTUFBTVcsRUFBSzVKLEtBQUtvSixLQUNoQixJQUFJUyxFQUVBQSxFQURBN0osS0FBS21KLEtBQ0VXLEtBQUtDLE1BQU0vSixLQUFLdUosY0FHaEJ2SixLQUFLdUosYUFFaEIsTUFBTVMsRUFBS2hLLEtBQUtxSixFQUNWWSxFQUFLakssS0FBS3NKLEVBQ2hCSSxFQUFJUSxPQUFTLFdBSWJULEVBQUlVLFVBQVVILEVBQUlDLEVBQUlMLEVBQUlBLEdBQzFCSCxFQUFJVyxVQUFVVixFQUFLRyxFQUFLRCxFQUFJLEVBQUdBLEVBQUlBLEVBQUlJLEVBQUlDLEVBQUlMLEVBQUdBLEVBQ2xELENBQ0osRUFDQTVKLEtBQUtxSyxVQUFZLFdBQ1RySyxLQUFLbUosS0FDTG5KLEtBQUt1SixjQUFjLEdBR25CdkosS0FBS3VKLGNBQWMsRUFFbkJ2SixLQUFLdUosY0FBZ0JMLElBQ3JCbEosS0FBS3VKLGFBQWEsRUFFOUIsQ0FDQSxDQUVBLE1BS01lLEVBQWEsRyxpQ0MvQ25CLElBQUlDLEVBRUosTUFBTUMsRUFBbUIsQ0FBQ2YsRUFBS2dCLEVBQU9DLEtBQ2xDQyxFQUFZSixFQUFNZCxFQUFJLEVBY3BCa0IsRUFBYyxDQUFDSixFQUFNZCxLQUN2QmMsRUFBTXJDLFNBQVEsQ0FBQzBDLEVBQUl2SCxLQUNmdUgsRUFBSTFDLFNBQVEsQ0FBQzJDLEVBQUtDLEtBQ2RDLEVBQVNGLEVBQU14SCxFQUFPeUgsRUFBUXJCLEVBQUksR0FDckMsR0FDSixFQUdDc0IsRUFBUyxDQUFDRixFQUFLeEIsRUFBRUMsRUFBR0csS0FDdEIsTUFBTUwsRUFBTyxHQUNiLElBQUk0QixFQUFVLElBQUlyQixNQUNsQnFCLEVBQVEzRCxJQUFNLEVBQ2QyRCxFQUFRZCxPQUFTLFdBSWJULEVBQUlXLFVBQVVZLEVBQVNILEVBQUt6QixFQUFNLEVBQUdBLEVBQU1BLEVBQU1DLEVBQUVELEVBQU1FLEVBQUVGLEVBQU1BLEVBQUtBLEVBQzFFLEdDaEJFNkIsRUFBbUIsQ0FBQ3hCLEVBQUt5QixLQUMzQixNQUFNQyxFQUFRckIsS0FBS0MsTUFBTW1CLEVBQU03QixFQUFFLElBQzNCK0IsRUFBUXRCLEtBQUtDLE1BQU1tQixFQUFNNUIsRUFBRSxJQUVqQyxJQUNJdUIsRURvQkUsRUNwQldNLEdBQU9DLEdBQ3hCUCxJQUNVLElBQU5BLElBQ0FBLEVBQU8sR0RXSSxFQUFDeEIsRUFBRUMsRUFBR3VCLEtBQ3JCTixFQUFNbEIsR0FBR0MsR0FBS3VCLEVBQ2RRLFFBQVFDLElBQUlmLEVBQU0sRUNYbEJnQixDQUFXSixFQUFNQyxFQUFNUCxFQUFLLEVDeEIxQlcsRUFBYSxJQURQLEdBRVosSUFBSUMsRUFBU3pILE9BQU8wSCxZQUFZQyxNQUdoQyxNQUFNQyxFQUFTLENBQUNuQixFQUFPQyxFQUFRN0osS0FDM0IsTUFBTWdMLEVBQU85RCxFQUFPLFVBQ3BCQyxFQUFTNkQsRUFBTSxDQUFDLGNBQWUsU0FBU2hMLE1BQ3hDOEgsRUFBUWtELEVBQU0sQ0FBQyxRQUFTLFVBQVcsQ0FBQyxHQUFHcEIsTUFBVSxHQUFHQyxRQUVwRCxFQUFNbUIsRUFBTSxzQ0FHWixNQUFNcEMsRUFBTW9DLEVBQUtDLFdBQVcsTUFZNUIsTUQ1QmMsQ0FBQ0QsSUFDZnZELEVBQU91RCxFQUFNLFNBQVVFLElBQ1BGLEVBQUtDLFdBQVcsTUFBNUIsTUFDTUUsRUFPZCxTQUFxQkosRUFBUUcsR0FDekIsTUFBTUUsRUFBT0wsRUFBT00sd0JBQ3BCLE1BQU8sQ0FDSDdDLEVBQUcwQyxFQUFJSSxRQUFVRixFQUFLRyxLQUN0QjlDLEVBQUd5QyxFQUFJTSxRQUFVSixFQUFLSyxJQUU5QixDQWJ5QixDQUFZVCxFQUFNRSxHQUN0QkYsRUhNRnpELFVBQVVtRSxTR05GLFlBQ2Z0QixFQUFpQnhCLEVBQUt1QyxFQUMxQixHQUNGLEVDV0ZRLENBQVVYLEdBRUUsSUFBUmhMLEdGZGUsRUFBQzRJLEVBQUtnQixFQUFPQyxLQUNoQ0gsRUF3Q1ksSUFBSWtDLE1BQU0sSUFBSUMsS0FBSyxHQUFHek0sS0FBSSxJQUFJLElBQUl3TSxNQUFNLElBQUlDLEtBQUssTUF2QzdEbkMsRUFBTSxHQUFHLEdBQUssR0FDZEEsRUFBTSxHQUFHLEdBQUssR0FDZEEsRUFBTSxHQUFHLEdBQUssR0FDZEEsRUFBTSxHQUFHLEdBQUssR0FDZEEsRUFBTSxHQUFHLEdBQUssR0FDZGMsUUFBUUMsSUFBSWYsR0FDWkMsRUFBaUJmLEVBQW1CLEVFUWhDa0QsQ0FBZWxELEdBRU4sSUFBVDVJLEdGMkJhLENBQUM0SSxJRFRGLE1BQ2pCLE1BQU1tRCxFQUFPLElBQUk3RCxFQUFPLFNBQVUsRUFBUyxJQUFHLEVBQU0sR0FBSSxHQUFHLElBQzFEdUIsRUFBVzdLLEtBQUttTixFQUFLLEVDUXJCQyxHQUNBdkMsRUFBV3BDLFNBQVE0RSxJQUFXQSxFQUFPdEQsS0FBS0MsR0FBTXFELEVBQU96QyxXQUFVLEdBQUcsRUU1QmhFMEMsQ0FBYXRELEdBR1ZvQyxDQUFJLEVDN0JmLE1DZ0JNbUIsRUFBYTVJLEtBQ0csV05FWE4sU0FBU0MsY01GRSxhQUNiSixNQUFNeUksS0FBTyxHQUFHaEksRUFBRVIsT0FBT3FKLFNBQUssRSxpQ0NYMUJqSixPQUFPMEgsWUFBWUMsTUFBaEMsSUFFSXVCLEVBQVcsR0FFZixTQUFTQyxFQUFXbkUsRUFBTVUsR0FDdEIxSixLQUFLZ0osS0FBT0EsRUFDWmhKLEtBQUtvSixLQUFPLEdBQ1pwSixLQUFLMEosSUFBTUEsRUFDWDFKLEtBQUt1SixhQUFlLEVBQ3BCdkosS0FBS29OLEtBQ0xwTixLQUFLcU4sS0FDTHJOLEtBQUtzTixLQUNMdE4sS0FBS3VOLEtBQ0x2TixLQUFLd04sVUFBVyxFQUNoQnhOLEtBQUt5TixJQUNMek4sS0FBS3lKLElBRUx6SixLQUFLME4sS0FBTyxLQUNSLE1BQU10RSxFQUFPcEosS0FBS29KLEtBQ2xCSixFQUFPaEosS0FBS2dKLEtBQ1osTUFBTTZDLEVBQU85RCxFQUFPLFVBQ3BCQyxFQUFTNkQsRUFBTSxDQUFDLGNBQWUsR0FBRzdDLE1BQ2xDTCxFQUFRa0QsRUFBTSxDQUFDLFFBQVMsVUFBVyxDQUFDLEdBQUd6QyxNQUFTLEdBQUdBLFFBRW5ELE1BQU02QyxFQUFPbkksU0FBUzZKLEtBQUt6Qix3QkFDM0JsTSxLQUFLc04sS0FBT3JCLEVBQUtHLEtBQ2pCcE0sS0FBS3VOLEtBQU90QixFQUFLSyxJQUNqQnRNLEtBQUtvTixLQUFPbkIsRUFBS0csS0FDakJwTSxLQUFLcU4sS0FBT3BCLEVBQUtLLElBQ2pCakIsUUFBUUMsSUFBSXRMLEtBQUtzTixLQUFNdE4sS0FBS3VOLE1BRzVCLEVBQU0xQixFQUFNLDhDQUdaLE1BQU1wQyxFQUFNb0MsRUFBS0MsV0FBVyxNQUN0QnBDLEVBQU0xSixLQUFLMEosSUFXakIsT0FWQUEsRUFBSVEsT0FBUyxXQUNUVCxFQUFJVSxVQUFVLEVBQUUsRUFBRWYsRUFBS0EsR0FDdkJLLEVBQUlXLFVBQVVWLEVBQUssRUFBRyxFQUFHTixFQUFNQSxFQUFNLEVBQUcsRUFBR0EsRUFBS0EsRUFDcEQsRUFFQXBKLEtBQUt3TSxVQUFVWCxHQUVmN0wsS0FBS3lOLElBQU01QixFQUNYN0wsS0FBS3lKLElBQU1BLEVBRUpvQyxDQUFJLEVBR2Y3TCxLQUFLd00sVUFBYVgsSUFDRjdMLEtBQUt5SixJQUNqQm9DLEVBQUtwRCxpQkFBaUIsUUFBU0YsSUFDVnFGLFlBQVkvQixFQUFNRSxLQUNuQzhCLE1BQUssQ0FBSSxJQUViaEMsRUFBS3BELGlCQUFpQixRQUFTRixJQUMzQnNGLE1BQUssQ0FBSyxHQUNaLENBR1YsQ0MvRHFCLE1BQ2pCLE1BQU1qRSxFQUFLLElBQ0xrRSxFSFBNLE1BQ1osTUFBTUEsRUFBUy9GLEVBQU8sT0FNdEIsT0FMQUMsRUFBUzhGLEVBQVEsQ0FBQyxZQUNsQixFQUFNQSxFQUFPLHNDQUdibEcsRUFBTzlELFNBQVM2SixLQUFNRyxHQUNmQSxDQUFNLEVHQUVDLEdBQ1RDLEVBQW1CcEMsRUFBT2hDLEVBQUdBLEVBQUcsR0FDaENxRSxFQUFlckMsRUFBT2hDLEVBQUdBLEVBQUcsR0FDbENoQyxFQUFPa0csRUFBUUUsR0FDZnBHLEVBQU9rRyxFQUFRRyxHQUNmNUMsUUFBUUMsSUFBSSxjSm9CaEIsU0FBdUI0QyxFQUFZekQsRUFBT0MsR0FFdEMsTUFBTXlELEVBQW9CLEtBRXRCbkssT0FBT29LLHNCQUFzQkQsR0FFN0IsTUFBTUUsRUFBUXJLLE9BQU8wSCxZQUFZQyxNQUMzQjJDLEVBQVdELEVBQVE1QyxFQUVyQjZDLEVBQVc5QyxJQUdmQyxFQUFTNEMsRUFEVUMsRUFBVzlDLEVBSTlCMEMsRUFBV2pPLEtBQUksQ0FBQzJMLEVBQU92SSxLQUNuQixNQUFNb0csRUFBTW1DLEVBQU9FLFdBQVcsTUFHbEIsSUFBUnpJLEdBQ0FtSCxFQUFpQmYsR0FHVCxJQUFScEcsR0ZFTSxDQUFDb0csSUFDbkJhLEVBQVdwQyxTQUFRNEUsSUFBV0EsRUFBT3RELEtBQUtDLEdBQU1xRCxFQUFPekMsV0FBVSxHQUFHLEVFRnhEa0UsQ0FBYzlFLEVBQ2xCLElBQ0YsRUFLTjBFLEdBQ0osQ0luRElLLENBQWMsQ0FBQ1IsRUFBaUJDLEdBQXNCLEVDYjFEUSxHRGdCeUIsTUFDckIsTUFBTUMsRUhQVSxNQUNoQixNQUFNWixFQUFTL0YsRUFBTyxPQVV0QixPQVRBQyxFQUFTOEYsRUFBUSxDQUFDLGlCQUNsQixFQUFNQSxFQUFPLDZJQU9ibEcsRUFBTzlELFNBQVM2SixLQUFNRyxHQUNmQSxDQUFNLEVHSk1hLEdEOERuQi9HLEVDN0RVOEcsRURvREcsRUFBQzFGLEVBQU1DLEtBQ3BCLE1BQU1TLEVBQU0sSUFBSUMsTUFDaEJELEVBQUlyQyxJQUFNNEIsRUFDVixNQUFNMkYsRUFBTyxJQUFJekIsRUFNWSxNQU5LekQsR0FFbEMsT0FEQXdELEVBQVN6TixLQUFLbVAsR0FDUEEsRUFBS2xCLE1BQU0sRUFJRW1CLENBQVMsRUFBTyxHQzdEZixFQ2pCekJDLEdEcUJJbEgsRUFBTzlELFNBQVM2SixLRnRCRCxNQUNmLE1BQU1vQixFQUFZaEgsRUFBTyxPQUN6QkMsRUFBUytHLEVBQVcsQ0FBQyxrQkFDckIsRUFBTUEsRUFBVSwwREFLaEIsTUFBTUMsRUFBU2pILEVBQU8sU0FLdEIsT0FKQU8sRUFBTzBHLEVBQVEsUUFBU2hDLEdBQ3hCckUsRUFBUXFHLEVBQU8sQ0FBQyxPQUFRLE1BQU8sTUFBTyxRQUFTLFNBQVUsQ0FBQyxRQUFTLElBQUssTUFBTSxJQUFJLFdBQ2xGcEgsRUFBT21ILEVBQVdDLEdBRVhELENBQVMsRUVTTUUsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL3NjcmlwdHMvUW9MLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvc2NyaXB0cy9zcHJpdGVGdW5jcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL3NjcmlwdHMvY2FudmFzRnVuY3MuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9zY3JpcHRzL2NhbnZNb3VzZUZ1bmNzLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvY29tcG9uZW50cy9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jb21wb25lbnRzL3dyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jb21wb25lbnRzL2RlYnVnVG9vbHMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jb21wb25lbnRzL21pbmlDYW52YXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9zY3JpcHRzL3N0YXJ0LmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYGJvZHl7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI0MjQyNDtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSx5QkFBeUI7QUFDN0JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keXtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzI0MjQyNDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiY29uc3QgcmVuZGVyID0gKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xufVxuXG5jb25zdCBjcmVhdGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xufVxuXG5jb25zdCBhZGRDbGFzcyA9IChlbGVtZW50LCBjbGFzc2xpc3QpID0+e1xuICAgIGNsYXNzbGlzdC5mb3JFYWNoKGNsYXMgPT4ge2VsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzKX0pO1xufVxuXG5jb25zdCBoYXNDbGFzcyA9IChlbGVtZW50LCBjbGFzKSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXMpO1xufVxuXG5jb25zdCByZW1DbGFzcyA9IChlbGVtZW50LCBjbGFzc2xpc3QpID0+e1xuICAgIGNsYXNzbGlzdC5mb3JFYWNoKGNsYXMgPT4ge2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzKX0pO1xufVxuXG5jb25zdCBmaW5kID0gKHNlbGVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5jb25zdCB3cml0ZSA9IChlbGVtZW50LCB0ZXh0KSA9PiB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmNvbnN0IGRldGVjdCA9IChlbGVtZW50LCBldmVudCwgZnVuYykgPT57XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTtcbn1cblxuY29uc3Qgc3R5bGUgPSAoZWxlbWVudCwgc3R5bGV0ZXh0KSA9PiB7XG4gICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gc3R5bGV0ZXh0O1xufVxuXG5jb25zdCBhdHRyaWJzID0gKGVsZW1lbnQsIGF0dHJpYkxpc3QsIHZhbHVlcykgPT4ge1xuICAgIGF0dHJpYkxpc3QubWFwKChhdHRyaWIsaW5kZXgpID0+IHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmliLCB2YWx1ZXNbaW5kZXhdKTtcbiAgICB9KVxufVxuXG5leHBvcnQge3JlbmRlciwgY3JlYXRlLCBhZGRDbGFzcywgaGFzQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LCBzdHlsZSwgYXR0cmlic30iLCJpbXBvcnQgY29pbnNyYyBmcm9tIFwiLi4vaW1hZ2VzL2NvaW4ucG5nXCI7XG5cbmZ1bmN0aW9uIFNwcml0ZShuYW1lLGltZ3NyYywgZnJhbWVzLCB0d29zLCBzaXplLCB4LCB5KXtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaW1nc3JjID0gaW1nc3JjO1xuICAgIHRoaXMuZnJhbWVzID0gZnJhbWVzO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnR3b3MgPSB0d29zO1xuICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKGN0eCl7XG4gICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLnNyYyA9IHRoaXMuaW1nc3JjO1xuICAgICAgICBjb25zdCBzeiA9IHRoaXMuc2l6ZTtcbiAgICAgICAgbGV0IGZyYW07XG4gICAgICAgIGlmICh0aGlzLnR3b3Mpe1xuICAgICAgICAgICAgZnJhbSA9IE1hdGguZmxvb3IodGhpcy5jdXJyZW50RnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBmcmFtID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgICAgIH0gIFxuICAgICAgICBjb25zdCBleCA9IHRoaXMueDtcbiAgICAgICAgY29uc3QgZXkgPSB0aGlzLnk7XG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9kcmF3SW1hZ2UoaW1hZ2UsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCBkeCwgZHksIGRXaWR0aCwgZEhlaWdodClcbiAgICAgICAgLy93aGVyZSBzID0gc3ByaXRlLCBkID0gZHJhd1xuXG4gICAgICAgIGN0eC5jbGVhclJlY3QoZXgsIGV5LCBzeiwgc3opO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgZnJhbSpzeiwgMCwgc3osIHN6LCBleCwgZXksIHN6LHN6KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm5leHRGcmFtZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICh0aGlzLnR3b3Mpe1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUrPTAuNTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUrPTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEZyYW1lID49IGZyYW1lcyl7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZT0wO1xuICAgICAgICB9XG59XG59XG5cbmNvbnN0IGluaXRTcHJpdGVzID0gKCkgPT57XG4gICBjb25zdCBjb2luID0gbmV3IFNwcml0ZShcImNvaW5fMVwiLCBjb2luc3JjLCAxMix0cnVlLCA2NCwgNTAsNTApO1xuICAgIHNwcml0ZUxpc3QucHVzaChjb2luKTtcbn1cblxuY29uc3Qgc3ByaXRlTGlzdCA9IFtdO1xuXG5leHBvcnQge3Nwcml0ZUxpc3QsIGluaXRTcHJpdGVzfSIsImltcG9ydCB7IHNwcml0ZUxpc3QsIGluaXRTcHJpdGVzIH0gZnJvbSBcIi4vc3ByaXRlRnVuY3NcIjtcbmltcG9ydCBmbG9vcl90aWxlcyBmcm9tIFwiLi4vaW1hZ2VzL2Zsb29yX3RpbGVzLnBuZ1wiO1xuXG5sZXQgdGlsZXM7XG5cbmNvbnN0IHVwZGF0ZUJhY2tncm91bmQgPSAoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgcmVuZGVyVGlsZXModGlsZXMsY3R4KTtcbn1cblxuY29uc3QgaW5pdEJhY2tncm91bmQgPSAoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PntcbiAgICB0aWxlcyA9IGdlbmVyYXRlVGlsZXMoKTtcbiAgICB0aWxlc1syXVsxXSA9IDExO1xuICAgIHRpbGVzWzldWzldID0gMTg7XG4gICAgdGlsZXNbOV1bOF0gPSAxODtcbiAgICB0aWxlc1s4XVs4XSA9IDE5O1xuICAgIHRpbGVzWzhdWzldID0gMTk7XG4gICAgY29uc29sZS5sb2codGlsZXMpO1xuICAgIHVwZGF0ZUJhY2tncm91bmQoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcbn1cblxuY29uc3QgcmVuZGVyVGlsZXMgPSAodGlsZXMsY3R4KSA9PntcbiAgICB0aWxlcy5mb3JFYWNoKChyb3csaW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKHRpbGUsaW5kZXgyKSA9PntcbiAgICAgICAgICAgIGRyYXdUaWxlKHRpbGUsIGluZGV4LCBpbmRleDIsIGN0eCk7XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuY29uc3QgZHJhd1RpbGU9KHRpbGUseCx5LCBjdHgpID0+e1xuICAgIGNvbnN0IHNpemUgPSA2NDtcbiAgICBsZXQgdGlsZXNldCA9IG5ldyBJbWFnZSgpO1xuICAgIHRpbGVzZXQuc3JjID0gZmxvb3JfdGlsZXM7XG4gICAgdGlsZXNldC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9kcmF3SW1hZ2UoaW1hZ2UsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCBkeCwgZHksIGRXaWR0aCwgZEhlaWdodClcbiAgICAgICAgLy93aGVyZSBzID0gc3ByaXRlLCBkID0gZHJhd1xuICAgICAgICAvL2N0eC5yb3RhdGUoKDkwICogTWF0aC5QSSkgLyAxODApO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRpbGVzZXQsIHRpbGUqc2l6ZSwgMCwgc2l6ZSwgc2l6ZSwgeCpzaXplLCB5KnNpemUsIHNpemUsc2l6ZSk7XG4gICAgfSAgXG59XG5cbmNvbnN0IG1vZGlmeVRpbGUgPSAoeCx5LCB0aWxlKSA9PiB7XG4gICAgdGlsZXNbeF1beV0gPSB0aWxlO1xuICAgIGNvbnNvbGUubG9nKHRpbGVzKTtcbn1cblxuY29uc3QgZ2V0VGlsZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuKHRpbGVzKTtcbn1cblxuY29uc3QgZ2VuZXJhdGVUaWxlcyA9ICgpID0+IHtcbiAgICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoMTApLmZpbGwoMCkubWFwKCgpPT5uZXcgQXJyYXkoMTApLmZpbGwoMTApKTtcbiAgICByZXR1cm4gYXJyO1xufVxuXG5jb25zdCBpbml0U3ByaXRlczIgPSAoY3R4KSA9PntcbiAgICBpbml0U3ByaXRlcygpO1xuICAgIHNwcml0ZUxpc3QuZm9yRWFjaChzcHJpdGUgPT4ge3Nwcml0ZS5kcmF3KGN0eCk7IHNwcml0ZS5uZXh0RnJhbWUoKX0pO1xufVxuXG5jb25zdCB1cGRhdGVTcHJpdGVzID0gKGN0eCk9PntcbiAgICBzcHJpdGVMaXN0LmZvckVhY2goc3ByaXRlID0+IHtzcHJpdGUuZHJhdyhjdHgpOyBzcHJpdGUubmV4dEZyYW1lKCl9KTtcbn1cblxuY29uc3QgY2xlYXIgPSAoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PntcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufVxuXG5leHBvcnQge2luaXRCYWNrZ3JvdW5kLCB1cGRhdGVCYWNrZ3JvdW5kLCBpbml0U3ByaXRlczIsIHVwZGF0ZVNwcml0ZXMsIGNsZWFyLCBtb2RpZnlUaWxlLCBnZXRUaWxlc30iLCJpbXBvcnQge3JlbmRlciwgY3JlYXRlLCBhZGRDbGFzcywgaGFzQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LCBzdHlsZSwgYXR0cmlic30gZnJvbSBcIi4vUW9MXCJcbmltcG9ydCB7IGdldFRpbGVzLCBtb2RpZnlUaWxlIH0gZnJvbSBcIi4vY2FudmFzRnVuY3NcIjtcblxuY29uc3QgaW5pdE1vdXNlID0gKGNhbnYpID0+IHtcbiAgICBkZXRlY3QoY2FudiwgXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnYuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGdldE1vdXNlUG9zKGNhbnYsIGV2dCk7XG4gICAgICAgIGlmIChoYXNDbGFzcyhjYW52LCBcImxheWVyLTFcIikpe1xuICAgICAgICAgICAgYmFja2dyb3VuZENoYW5nZShjdHgsIG1vdXNlUG9zKVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE1vdXNlUG9zKGNhbnZhcywgZXZ0KSB7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBldnQuY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgeTogZXZ0LmNsaWVudFkgLSByZWN0LnRvcFxuICAgIH07XG59XG5cbmNvbnN0IGJhY2tncm91bmRDaGFuZ2UgPSAoY3R4LCBtb3VzZSkgPT4ge1xuICAgIGNvbnN0IHRpbGV4ID0gTWF0aC5mbG9vcihtb3VzZS54LzY0KVxuICAgIGNvbnN0IHRpbGV5ID0gTWF0aC5mbG9vcihtb3VzZS55LzY0KVxuXG4gICAgbGV0IHRpbGVzID0gZ2V0VGlsZXMoKTtcbiAgICBsZXQgdGlsZSA9IHRpbGVzW3RpbGV4XVt0aWxleV07XG4gICAgdGlsZSsrO1xuICAgIGlmICh0aWxlPT0yMCl7XG4gICAgICAgIHRpbGUgPSAwO1xuICAgIH1cbiAgICBtb2RpZnlUaWxlKHRpbGV4LHRpbGV5LHRpbGUpO1xufVxuXG5jb25zdCBkcmFnU3ByaXRlID0gKCkgPT4ge1xuXG59XG5cbmV4cG9ydCB7aW5pdE1vdXNlfTsiLCJpbXBvcnQge3JlbmRlciwgY3JlYXRlLCBhZGRDbGFzcywgcmVtQ2xhc3MsIGZpbmQsIHdyaXRlLCBkZXRlY3QsIHN0eWxlLCBhdHRyaWJzfSBmcm9tIFwiLi4vc2NyaXB0cy9Rb0xcIlxuaW1wb3J0IHsgaW5pdE1vdXNlIH0gZnJvbSBcIi4uL3NjcmlwdHMvY2Fudk1vdXNlRnVuY3NcIjtcbmltcG9ydCB7aW5pdEJhY2tncm91bmQsIHVwZGF0ZUJhY2tncm91bmQsIGluaXRTcHJpdGVzMiwgdXBkYXRlU3ByaXRlcywgY2xlYXJ9IGZyb20gXCIuLi9zY3JpcHRzL2NhbnZhc0Z1bmNzXCI7XG5cbmxldCBzdG9wID0gZmFsc2U7XG5sZXQgZnJhbWVzID0gMDtcbmNvbnN0IGZwcyA9IDMwXG5jb25zdCBtc1BlckZyYW1lID0gMTAwMCAvIGZwc1xubGV0IG1zUHJldiA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuXG5cbmNvbnN0IGNhbnZhcyA9ICh3aWR0aCwgaGVpZ2h0LCBsYXllcikgPT4ge1xuICAgIGNvbnN0IGNhbnYgPSBjcmVhdGUoXCJjYW52YXNcIik7XG4gICAgYWRkQ2xhc3MoY2FudiwgW1wiZ2FtZS1jYW52YXNcIiwgYGxheWVyLSR7bGF5ZXJ9YF0pO1xuICAgIGF0dHJpYnMoY2FudiwgW1wid2lkdGhcIiwgXCJoZWlnaHRcIl0sIFtgJHt3aWR0aH1weGAsYCR7aGVpZ2h0fXB4YF0pO1xuXG4gICAgc3R5bGUoY2FudiwgYFxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICBgKTtcbiAgICBjb25zdCBjdHggPSBjYW52LmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGluaXRNb3VzZShjYW52KTtcbiAgICBcbiAgICBpZiAobGF5ZXI9PT0wKVxuICAgIHtcbiAgICAgICAgaW5pdEJhY2tncm91bmQoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgaWYgKGxheWVyID09PTEpe1xuICAgICAgICBpbml0U3ByaXRlczIoY3R4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2Fudjtcbn1cblxuZnVuY3Rpb24gcnVuRXZlcnl0aGluZyhjYW52YXNMaXN0LCB3aWR0aCwgaGVpZ2h0KXtcblxuICAgIGNvbnN0IGFuaW1hdGVFdmVyeXRoaW5nID0gKCkgPT4ge1xuXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZUV2ZXJ5dGhpbmcpO1xuXG4gICAgICAgIGNvbnN0IG1zTm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBjb25zdCBtc1Bhc3NlZCA9IG1zTm93IC0gbXNQcmV2O1xuXG4gICAgICAgIGlmIChtc1Bhc3NlZCA8IG1zUGVyRnJhbWUpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGV4Y2Vzc1RpbWUgPSBtc1Bhc3NlZCAlIG1zUGVyRnJhbWVcbiAgICAgICAgbXNQcmV2ID0gbXNOb3cgLSBleGNlc3NUaW1lXG5cbiAgICAgICAgLy8gUHV0IHlvdXIgZHJhd2luZyBjb2RlIGhlcmVcbiAgICAgICAgY2FudmFzTGlzdC5tYXAoKGNhbnZhcyxpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIC8vY2xlYXIoY3R4LCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICAgICAgZnJhbWVzKys7XG4gICAgICAgICAgICBpZiAoaW5kZXg9PT0wKXtcbiAgICAgICAgICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kKGN0eCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgLy9pbXBsZW1lbnQgc29tZXdheSBzbyB0aGF0IGl0IHdvbnQgdXBkYXRlIHVubGVzcyB0aGVyZSBpcyBhIGNoYW5nZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4PT09MSl7ICAgXG4gICAgICAgICAgICAgICAgdXBkYXRlU3ByaXRlcyhjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIFxuICAgIH1cblxuICAgIGFuaW1hdGVFdmVyeXRoaW5nKCk7XG59XG5cblxuXG5leHBvcnQge2NhbnZhcywgcnVuRXZlcnl0aGluZ30iLCJpbXBvcnQge3JlbmRlciwgY3JlYXRlLCBhZGRDbGFzcywgcmVtQ2xhc3MsIGZpbmQsIHdyaXRlLCBkZXRlY3Qsc3R5bGV9IGZyb20gXCIuLi9zY3JpcHRzL1FvTFwiXG5cbmNvbnN0IHdyYXBwZXIgPSAoKSA9PnsgICBcbiAgICBjb25zdCByYXBwZXIgPSBjcmVhdGUoXCJkaXZcIik7XG4gICAgYWRkQ2xhc3MocmFwcGVyLCBbXCJ3cmFwcGVyXCJdKTtcbiAgICBzdHlsZShyYXBwZXIsYFxuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICBgKVxuICAgIHJlbmRlcihkb2N1bWVudC5ib2R5LCByYXBwZXIpO1xuICAgIHJldHVybiByYXBwZXI7XG59XG5cbmNvbnN0IG1pbmlXcmFwcGVyID0gKCkgPT57XG4gICAgY29uc3QgcmFwcGVyID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKHJhcHBlciwgW1wibWluaS13cmFwcGVyXCJdKTtcbiAgICBzdHlsZShyYXBwZXIsYFxuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgdG9wOiA2NTBweDtcbiAgICAgICAgaGVpZ2h0OiA4MHB4O1xuICAgICAgICB3aWR0aDogNjQwcHg7XG4gICAgYClcbiAgICByZW5kZXIoZG9jdW1lbnQuYm9keSwgcmFwcGVyKTtcbiAgICByZXR1cm4gcmFwcGVyO1xufVxuXG5leHBvcnQge3dyYXBwZXIsIG1pbmlXcmFwcGVyfTsiLCJpbXBvcnQge3JlbmRlciwgY3JlYXRlLCBhZGRDbGFzcywgcmVtQ2xhc3MsIGZpbmQsIHdyaXRlLCBkZXRlY3Qsc3R5bGUsYXR0cmlic30gZnJvbSBcIi4uL3NjcmlwdHMvUW9MXCJcblxuY29uc3QgZGVidWdUb29scyA9ICgpID0+e1xuICAgIGNvbnN0IGRlYnVnV3JhcCA9IGNyZWF0ZShcImRpdlwiKTtcbiAgICBhZGRDbGFzcyhkZWJ1Z1dyYXAsIFtcImRlYnVnLXdyYXBwZXJcIl0pO1xuICAgIHN0eWxlKGRlYnVnV3JhcCxgXG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICB0b3A6NjYwcHg7XG4gICAgYClcblxuICAgIGNvbnN0IHNsaWRlciA9IGNyZWF0ZShcImlucHV0XCIpO1xuICAgIGRldGVjdChzbGlkZXIsIFwiaW5wdXRcIiwgc2xpZGVGdW5jKTtcbiAgICBhdHRyaWJzKHNsaWRlcixbXCJ0eXBlXCIsIFwibWluXCIsIFwibWF4XCIsIFwidmFsdWVcIiwgXCJjbGFzc1wiXSwgW1wicmFuZ2VcIiwgXCIwXCIsIFwiNjQwXCIsXCIwXCIsXCJzbGlkZXlcIl0pXG4gICAgcmVuZGVyKGRlYnVnV3JhcCwgc2xpZGVyKTtcblxuICAgIHJldHVybiBkZWJ1Z1dyYXA7XG59XG5cbmNvbnN0IHNsaWRlRnVuYyA9IChlKSA9PiB7XG4gICAgY29uc3QgY2FudiA9IGZpbmQoXCIubGF5ZXItMVwiKTtcbiAgICBjYW52LnN0eWxlLmxlZnQgPSBgJHtlLnRhcmdldC52YWx1ZX1weGBcbn1cblxuZXhwb3J0e2RlYnVnVG9vbHN9OyIsImltcG9ydCB7cmVuZGVyLCBjcmVhdGUsIGFkZENsYXNzLCByZW1DbGFzcywgZmluZCwgd3JpdGUsIGRldGVjdCwgc3R5bGUsIGF0dHJpYnN9IGZyb20gXCIuLi9zY3JpcHRzL1FvTFwiXG5pbXBvcnQgeyBpbml0TW91c2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9jYW52TW91c2VGdW5jc1wiO1xuaW1wb3J0IHtpbml0QmFja2dyb3VuZCwgdXBkYXRlQmFja2dyb3VuZCwgaW5pdFNwcml0ZXMyLCB1cGRhdGVTcHJpdGVzLCBjbGVhcn0gZnJvbSBcIi4uL3NjcmlwdHMvY2FudmFzRnVuY3NcIjtcbmltcG9ydCBDYW4gZnJvbSBcIi4uL2ltYWdlcy9jYW4ucG5nXCJcblxubGV0IHN0b3AgPSBmYWxzZTtcbmxldCBmcmFtZXMgPSAwO1xuY29uc3QgZnBzID0gMzBcbmNvbnN0IG1zUGVyRnJhbWUgPSAxMDAwIC8gZnBzXG5sZXQgbXNQcmV2ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG5cbmxldCBtaW5pTGlzdCA9IFtdO1xuXG5mdW5jdGlvbiBtaW5pQ2FudmFzKG5hbWUsIGltZyl7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnNpemUgPSA2NDtcbiAgICB0aGlzLmltZyA9IGltZztcbiAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XG4gICAgdGhpcy5vcml4O1xuICAgIHRoaXMub3JpeTtcbiAgICB0aGlzLmVsZXg7XG4gICAgdGhpcy5lbGV5O1xuICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVsZTtcbiAgICB0aGlzLmN0eDtcblxuICAgIHRoaXMuaW5pdCA9ICgpID0+e1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBuYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICBjb25zdCBjYW52ID0gY3JlYXRlKFwiY2FudmFzXCIpO1xuICAgICAgICBhZGRDbGFzcyhjYW52LCBbXCJtaW5pLWNhbnZhc1wiLCBgJHtuYW1lfWBdKTtcbiAgICAgICAgYXR0cmlicyhjYW52LCBbXCJ3aWR0aFwiLCBcImhlaWdodFwiXSwgW2Ake3NpemV9cHhgLGAke3NpemV9cHhgXSk7XG5cbiAgICAgICAgY29uc3QgcmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuZWxleCA9IHJlY3QubGVmdDtcbiAgICAgICAgdGhpcy5lbGV5ID0gcmVjdC50b3A7XG4gICAgICAgIHRoaXMub3JpeCA9IHJlY3QubGVmdDtcbiAgICAgICAgdGhpcy5vcml5ID0gcmVjdC50b3A7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWxleCwgdGhpcy5lbGV5KTtcblxuXG4gICAgICAgIHN0eWxlKGNhbnYsIGBcbiAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICBgKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2Fudi5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnN0IGltZyA9IHRoaXMuaW1nO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxzaXplLHNpemUpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHNpemUsIHNpemUsIDAsIDAsIHNpemUsc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRNb3VzZShjYW52KTtcblxuICAgICAgICB0aGlzLmVsZSA9IGNhbnY7XG4gICAgICAgIHRoaXMuY3R4ID0gY3R4O1xuXG4gICAgICAgIHJldHVybiBjYW52O1xuICAgIH1cblxuICAgIHRoaXMuaW5pdE1vdXNlID0gKGNhbnYpID0+IHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgIGNhbnYuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGdldE1vdXNlUG9zKGNhbnYsIGV2dCk7XG4gICAgICAgICAgICBkcmFnPXRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjYW52LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZHJhZz1mYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgXG59XG5cbmNvbnN0IGluaXRNaW5pID0gKG5hbWUsIGltZ3NyYykgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpXG4gICAgaW1nLnNyYyA9IGltZ3NyYztcbiAgICBjb25zdCBtaW5pID0gbmV3IG1pbmlDYW52YXMobmFtZSwgaW1nKVxuICAgIG1pbmlMaXN0LnB1c2gobWluaSk7XG4gICAgcmV0dXJuIG1pbmkuaW5pdCgpO1xufVxuXG5jb25zdCBpbml0TWluaXMgPSAobWluaVdyYXBwZXIpID0+IHtcbiAgICByZW5kZXIobWluaVdyYXBwZXIsIGluaXRNaW5pKFwiY2FuXCIsIENhbikpXG59XG5cbi8qXG5mdW5jdGlvbiBydW5FdmVyeXRoaW5nKGNhbnZhc0xpc3QsIHdpZHRoLCBoZWlnaHQpe1xuXG4gICAgY29uc3QgYW5pbWF0ZUV2ZXJ5dGhpbmcgPSAoKSA9PiB7XG5cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlRXZlcnl0aGluZyk7XG5cbiAgICAgICAgY29uc3QgbXNOb3cgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IG1zUGFzc2VkID0gbXNOb3cgLSBtc1ByZXY7XG5cbiAgICAgICAgaWYgKG1zUGFzc2VkIDwgbXNQZXJGcmFtZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgZXhjZXNzVGltZSA9IG1zUGFzc2VkICUgbXNQZXJGcmFtZVxuICAgICAgICBtc1ByZXYgPSBtc05vdyAtIGV4Y2Vzc1RpbWVcblxuICAgICAgICAvLyBQdXQgeW91ciBkcmF3aW5nIGNvZGUgaGVyZVxuICAgICAgICBjYW52YXNMaXN0Lm1hcCgoY2FudmFzLGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgLy9jbGVhcihjdHgsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgICAgICBmcmFtZXMrKztcbiAgICAgICAgICAgIGlmIChpbmRleD09PTApe1xuICAgICAgICAgICAgICAgIHVwZGF0ZUJhY2tncm91bmQoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAvL2ltcGxlbWVudCBzb21ld2F5IHNvIHRoYXQgaXQgd29udCB1cGRhdGUgdW5sZXNzIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXg9PT0xKXsgICBcbiAgICAgICAgICAgICAgICB1cGRhdGVTcHJpdGVzKGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgXG4gICAgfVxuXG4gICAgYW5pbWF0ZUV2ZXJ5dGhpbmcoKTtcbn1cblxuKi9cblxuZXhwb3J0IHtpbml0TWluaXN9IiwiaW1wb3J0ICcuLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHtyZW5kZXIsIGNyZWF0ZSwgYWRkQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0fSBmcm9tIFwiLi4vc2NyaXB0cy9Rb0xcIlxuaW1wb3J0IHsgY2FudmFzLCBydW5FdmVyeXRoaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jYW52YXMnO1xuaW1wb3J0IHsgd3JhcHBlciwgbWluaVdyYXBwZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3dyYXBwZXInO1xuaW1wb3J0IHsgZGVidWdUb29scyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZGVidWdUb29scyc7XG5pbXBvcnQgeyBpbml0TWluaXMgfSBmcm9tICcuLi9jb21wb25lbnRzL21pbmlDYW52YXMnO1xuXG5jb25zdCBpbml0Q2FudmFzZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3ogPSA2NDA7XG4gICAgY29uc3QgcmFwcGVyID0gd3JhcHBlcigpO1xuICAgIGNvbnN0IGJhY2tncm91bmRDYW52YXMgPSBjYW52YXMoc3osc3osMCk7XG4gICAgY29uc3Qgc3ByaXRlQ2FudmFzID0gY2FudmFzKHN6LHN6LDEpO1xuICAgIHJlbmRlcihyYXBwZXIsIGJhY2tncm91bmRDYW52YXMpO1xuICAgIHJlbmRlcihyYXBwZXIsIHNwcml0ZUNhbnZhcyk7XG4gICAgY29uc29sZS5sb2coXCJjb21tZW5jaW5nXCIpO1xuICAgIHJ1bkV2ZXJ5dGhpbmcoW2JhY2tncm91bmRDYW52YXMsc3ByaXRlQ2FudmFzXSwgc3osIHN6KTtcbn1cblxuY29uc3QgaW5pdE1pbmlDYW52YXNlcyA9ICgpID0+IHtcbiAgICBjb25zdCBtaW5pcmFwcGVyID0gbWluaVdyYXBwZXIoKTtcbiAgICBpbml0TWluaXMobWluaXJhcHBlcik7XG59XG5cbmNvbnN0IGluaXREZWJ1ZyA9ICgpID0+e1xuICAgIHJlbmRlcihkb2N1bWVudC5ib2R5LCBkZWJ1Z1Rvb2xzKCkpO1xufVxuXG5leHBvcnQge2luaXRDYW52YXNlcywgaW5pdE1pbmlDYW52YXNlcywgaW5pdERlYnVnfSIsImltcG9ydCB7aW5pdENhbnZhc2VzLCBpbml0RGVidWcsIGluaXRNaW5pQ2FudmFzZXN9IGZyb20gXCIuL3NjcmlwdHMvc3RhcnRcIjtcblxuaW5pdENhbnZhc2VzKCk7XG5pbml0TWluaUNhbnZhc2VzKCk7XG5pbml0RGVidWcoKTsiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsInAiLCJuYyIsImxvY2FscyIsInJlbmRlciIsInBhcmVudCIsImNoaWxkIiwiY3JlYXRlIiwiYWRkQ2xhc3MiLCJjbGFzc2xpc3QiLCJmb3JFYWNoIiwiY2xhcyIsImNsYXNzTGlzdCIsImFkZCIsImRldGVjdCIsImV2ZW50IiwiZnVuYyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZXRleHQiLCJhdHRyaWJzIiwiYXR0cmliTGlzdCIsInZhbHVlcyIsImF0dHJpYiIsIlNwcml0ZSIsIm5hbWUiLCJpbWdzcmMiLCJmcmFtZXMiLCJ0d29zIiwic2l6ZSIsIngiLCJ5IiwiY3VycmVudEZyYW1lIiwiZHJhdyIsImN0eCIsImltZyIsIkltYWdlIiwic3oiLCJmcmFtIiwiTWF0aCIsImZsb29yIiwiZXgiLCJleSIsIm9ubG9hZCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsIm5leHRGcmFtZSIsInNwcml0ZUxpc3QiLCJ0aWxlcyIsInVwZGF0ZUJhY2tncm91bmQiLCJ3aWR0aCIsImhlaWdodCIsInJlbmRlclRpbGVzIiwicm93IiwidGlsZSIsImluZGV4MiIsImRyYXdUaWxlIiwidGlsZXNldCIsImJhY2tncm91bmRDaGFuZ2UiLCJtb3VzZSIsInRpbGV4IiwidGlsZXkiLCJjb25zb2xlIiwibG9nIiwibW9kaWZ5VGlsZSIsIm1zUGVyRnJhbWUiLCJtc1ByZXYiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImNhbnZhcyIsImNhbnYiLCJnZXRDb250ZXh0IiwiZXZ0IiwibW91c2VQb3MiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwiY29udGFpbnMiLCJpbml0TW91c2UiLCJBcnJheSIsImZpbGwiLCJpbml0QmFja2dyb3VuZCIsImNvaW4iLCJpbml0U3ByaXRlcyIsInNwcml0ZSIsImluaXRTcHJpdGVzMiIsInNsaWRlRnVuYyIsInZhbHVlIiwibWluaUxpc3QiLCJtaW5pQ2FudmFzIiwib3JpeCIsIm9yaXkiLCJlbGV4IiwiZWxleSIsImRyYWdnaW5nIiwiZWxlIiwiaW5pdCIsImJvZHkiLCJnZXRNb3VzZVBvcyIsImRyYWciLCJyYXBwZXIiLCJ3cmFwcGVyIiwiYmFja2dyb3VuZENhbnZhcyIsInNwcml0ZUNhbnZhcyIsImNhbnZhc0xpc3QiLCJhbmltYXRlRXZlcnl0aGluZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zTm93IiwibXNQYXNzZWQiLCJ1cGRhdGVTcHJpdGVzIiwicnVuRXZlcnl0aGluZyIsImluaXRDYW52YXNlcyIsIm1pbmlyYXBwZXIiLCJtaW5pV3JhcHBlciIsIm1pbmkiLCJpbml0TWluaSIsImluaXRNaW5pQ2FudmFzZXMiLCJkZWJ1Z1dyYXAiLCJzbGlkZXIiLCJkZWJ1Z1Rvb2xzIl0sInNvdXJjZVJvb3QiOiIifQ==