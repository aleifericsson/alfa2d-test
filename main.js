(()=>{"use strict";var t={320:(t,n,e)=>{e.d(n,{Z:()=>s});var r=e(537),o=e.n(r),i=e(645),a=e.n(i)()(o());a.push([t.id,".start-state{\n    transform: translate(0, -2000px);\n}\n\n.end-state{\n    transform: scale(0);\n}\n\n.vibrate {\n    animation: tilt-shaking 0.25s 5;\n}  \n\n@keyframes tilt-shaking {\n    0% { transform: rotate(0deg); }\n    25% { transform: rotate(5deg); }\n    50% { transform: rotate(0eg); }\n    75% { transform: rotate(-5deg); }\n    100% { transform: rotate(0deg); }\n}\n\n.button .canvas-icon{\n    -webkit-filter: brightness(100%);\n\t-moz-filter: brightness(100%);\n\t-o-filter: brightness(100%);\n\t-ms-filter: brightness(100%);\n\tfilter: brightness(100%);\n}\n\n.button:hover, .canvas-icon:hover, .selected{\n    -webkit-filter: brightness(80%);\n\t-moz-filter: brightness(80%);\n\t-o-filter: brightness(80%);\n\t-ms-filter: brightness(80%);\n\tfilter: brightness(80%);\n}\n\n.button:active, .canvas-icon:active{\n    -webkit-filter: brightness(60%);\n\t-moz-filter: brightness(60%);\n\t-o-filter: brightness(60%);\n\t-ms-filter: brightness(60%);\n\tfilter: brightness(60%);\n}\n\n.notransition {\n    -webkit-transition: none !important;\n    -moz-transition: none !important;\n    -o-transition: none !important;\n    -ms-transition: none !important;\n    transition: none !important;\n}","",{version:3,sources:["webpack://./src/css/animations.css"],names:[],mappings:"AAAA;IACI,gCAAgC;AACpC;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,+BAA+B;AACnC;;AAEA;IACI,KAAK,uBAAuB,EAAE;IAC9B,MAAM,uBAAuB,EAAE;IAC/B,MAAM,sBAAsB,EAAE;IAC9B,MAAM,wBAAwB,EAAE;IAChC,OAAO,uBAAuB,EAAE;AACpC;;AAEA;IACI,gCAAgC;CACnC,6BAA6B;CAC7B,2BAA2B;CAC3B,4BAA4B;CAC5B,wBAAwB;AACzB;;AAEA;IACI,+BAA+B;CAClC,4BAA4B;CAC5B,0BAA0B;CAC1B,2BAA2B;CAC3B,uBAAuB;AACxB;;AAEA;IACI,+BAA+B;CAClC,4BAA4B;CAC5B,0BAA0B;CAC1B,2BAA2B;CAC3B,uBAAuB;AACxB;;AAEA;IACI,mCAAmC;IACnC,gCAAgC;IAChC,8BAA8B;IAC9B,+BAA+B;IAC/B,2BAA2B;AAC/B",sourcesContent:[".start-state{\n    transform: translate(0, -2000px);\n}\n\n.end-state{\n    transform: scale(0);\n}\n\n.vibrate {\n    animation: tilt-shaking 0.25s 5;\n}  \n\n@keyframes tilt-shaking {\n    0% { transform: rotate(0deg); }\n    25% { transform: rotate(5deg); }\n    50% { transform: rotate(0eg); }\n    75% { transform: rotate(-5deg); }\n    100% { transform: rotate(0deg); }\n}\n\n.button .canvas-icon{\n    -webkit-filter: brightness(100%);\n\t-moz-filter: brightness(100%);\n\t-o-filter: brightness(100%);\n\t-ms-filter: brightness(100%);\n\tfilter: brightness(100%);\n}\n\n.button:hover, .canvas-icon:hover, .selected{\n    -webkit-filter: brightness(80%);\n\t-moz-filter: brightness(80%);\n\t-o-filter: brightness(80%);\n\t-ms-filter: brightness(80%);\n\tfilter: brightness(80%);\n}\n\n.button:active, .canvas-icon:active{\n    -webkit-filter: brightness(60%);\n\t-moz-filter: brightness(60%);\n\t-o-filter: brightness(60%);\n\t-ms-filter: brightness(60%);\n\tfilter: brightness(60%);\n}\n\n.notransition {\n    -webkit-transition: none !important;\n    -moz-transition: none !important;\n    -o-transition: none !important;\n    -ms-transition: none !important;\n    transition: none !important;\n}"],sourceRoot:""}]);const s=a},414:(t,n,e)=>{e.d(n,{Z:()=>d});var r=e(537),o=e.n(r),i=e(645),a=e.n(i),s=e(667),c=e.n(s),l=new URL(e(542),e.b),p=a()(o()),u=c()(l);p.push([t.id,`@font-face {\n    font-family: 'munro';\n    src: url(${u}) format('truetype');\n  }\n\n  /*\n  @font-face {\n    font-family: 'munro-narrow';\n    src: url(../fonts/munro-narrow.ttf) format('truetype');\n  }\n  \n  @font-face {\n    font-family: 'munro-small';\n    src: url(../fonts/munro-small.ttf) format('truetype');\n  }\n  */`,"",{version:3,sources:["webpack://./src/css/fonts.css"],names:[],mappings:"AAAA;IACI,oBAAoB;IACpB,+DAA+C;EACjD;;EAEA;;;;;;;;;;GAUC",sourcesContent:["@font-face {\n    font-family: 'munro';\n    src: url(../fonts/munro.ttf) format('truetype');\n  }\n\n  /*\n  @font-face {\n    font-family: 'munro-narrow';\n    src: url(../fonts/munro-narrow.ttf) format('truetype');\n  }\n  \n  @font-face {\n    font-family: 'munro-small';\n    src: url(../fonts/munro-small.ttf) format('truetype');\n  }\n  */"],sourceRoot:""}]);const d=p},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e})).join("")},n.i=function(t,e,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var p=[].concat(t[l]);r&&a[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),e&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=e):p[2]=e),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),n.push(p))}},n}},667:t=>{t.exports=function(t,n){return n||(n={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),n.hash&&(t+=n.hash),/["'() \t\n]|(%20)/.test(t)||n.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},537:t=>{t.exports=function(t){var n=t[1],e=t[3];if(!e)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},379:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],p=i[l]||0,u="".concat(l," ").concat(p);i[l]=p+1;var d=e(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(m);else{var f=o(m,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=e(i[a]);n[s].references--}for(var c=r(t,o),l=0;l<i.length;l++){var p=e(i[l]);0===n[p].references&&(n[p].updater(),n.splice(p,1))}i=c}}},569:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},216:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},589:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},542:(t,n,e)=>{t.exports=e.p+"f78662ff4aad4d038806.ttf"}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return t[r](i,i.exports,e),i.exports}e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!t;)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href,e.nc=void 0,(()=>{const t=(t,n)=>{t.appendChild(n)},n=(t,n)=>{t.removeChild(n)},r=t=>document.createElement(t),o=(t,n)=>{n.forEach((n=>{t.classList.add(n)}))},i=(t,n)=>t.classList.contains(n),a=(t,n)=>{n.forEach((n=>{t.classList.remove(n)}))},s=t=>document.querySelector(t),c=(t,n)=>{t.textContent=n},l=(t,n,e)=>{t.addEventListener(n,e)},p=(t,n,e)=>{t.removeEventListener(n,e)},u=(t,n)=>{t.style.cssText=n},d=(t,n,e)=>{n.map(((n,r)=>{t.setAttribute(n,e[r])}))},m=e.p+"9478dc13a48c1e0eaf79.png";let f=0;const g=t=>{let e=0,r="";"string"==typeof t||t instanceof String?("win"===t&&(e=2,r="you won!"),"tutorial"===t&&(e=3,r="welcome! how to play: find out!")):"promptbut-1"===t.target.id||"closeprompt-1"===t.target.id?(e=1,r="you have been prompted"):"closeprompt-2"===t.target.id?e=2:"closeprompt-3"===t.target.id&&(e=3);const i=s(`#prompt-${e}`);null!=i?(o(i,["end-state"]),setTimeout((()=>n(s(".wrapper"),i)),200)):h(r,e)},h=(n,e)=>{s(".button-overlay");const i=r("div");o(i,["prompt","start-state"]),d(i,["id","draggable"],[`prompt-${e}`,"false"]),u(i,"\n            color:white;\n            background-color: slategray;\n            border: 5px solid darkslategray;\n            position:absolute;\n            transition: 0.1s;\n            width: 200px;\n            height: 100px;\n            left: 200px;\n            top: 250px;\n        ");const a=b(e);t(i,a),t(i,A(n)),t(s(".wrapper"),i),setTimeout((()=>i.classList.remove("start-state")),100)},A=t=>{const n=r("div");return u(n,"\n            color:white;\n            position:relative;\n            text-align:center;\n            margin:15px 5px;\n            font-family: 'munro';\n        "),c(n,t),n},b=n=>{const e=r("div");o(e,["bar"]),d(e,["id","draggable"],[`bar-${n}`,"false"]),u(e,"\n        display:flex;\n        justify-content: flex-end;\n        padding: 5px;\n        background-color: darkslategray;\n        height: 20px;\n    ");const i=r("div");return o(i,["button","closeprompt"]),i.id=`closeprompt-${n}`,u(i,`\n        position: absolute;\n        width: 16px;\n        height: 16px;\n        background: url(${m});\n    `),t(e,i),l(e,"mousedown",v),l(e,"mouseup",x),l(i,"click",g),e},v=t=>{const n=t.target.id.split("-")[1];f=n,t.preventDefault(),l(document.body,"mousemove",y),o(s(`#prompt-${n}`),["notransition"])},y=t=>{t.preventDefault();const n=s(`#prompt-${f}`),e=s(".wrapper").getBoundingClientRect(),r=t.clientX-e.left,o=t.clientY-e.top;null!==n&&(n.style.top=o-10+"px",n.style.left=r-100+"px")},x=t=>{p(document.body,"mousemove",y),a(s(`#prompt-${f}`),["notransition"]),f=0};var C=e(379),w=e.n(C),B=e(795),I=e.n(B),$=e(569),E=e.n($),k=e(565),M=e.n(k),R=e(216),T=e.n(R),z=e(589),_=e.n(z),S=e(320),j={};j.styleTagTransform=_(),j.setAttributes=M(),j.insert=E().bind(null,"head"),j.domAPI=I(),j.insertStyleElement=T(),w()(S.Z,j),S.Z&&S.Z.locals&&S.Z.locals;var L=e(414),Z={};Z.styleTagTransform=_(),Z.setAttributes=M(),Z.insert=E().bind(null,"head"),Z.domAPI=I(),Z.insertStyleElement=T(),w()(L.Z,Z),L.Z&&L.Z.locals&&L.Z.locals;const O=e.p+"2303bf42784ad28af8cb.gif";let P=-1;const F=(t="bruh")=>{P+=1,c("bruh"===t?s("#score"):t,`Score: ${P}`)},D=t=>{"slider1"===t.target.id?s(".layer-1").style.left=`${t.target.value}px`:"slider2"===t.target.id&&(s(".button-overlay").style.left=`${t.target.value}px`)},U=e.p+"e112e84ea9b89a736591.png",N=e.p+"89cc97a32f3bdd1a1f7c.png";let X;const Y=[11,14,15,16,19],q=(t,n,e)=>{H(X,t)},H=(t,n)=>{t.forEach(((t,e)=>{t.forEach(((t,r)=>{J(t,e,r,n)}))}))},J=(t,n,e,r)=>{const o=64;let i=new Image;i.src=N,i.onload=function(){r.drawImage(i,t*o,0,o,o,n*o,e*o,o,o)}},K=e.p+"eed3668d18647392456b.png",G=e.p+"d6da9f23976e4998ab40.png";let Q=[],V=[];const W=(n,e,i,a,s,c,l,p,m)=>{const f=r("canvas");o(f,["spritecanvas"]),d(f,["id","width","height"],[e,`${i}px`,`${i}px`]);const g=new Image;g.src=a,u(f,`\n        position:absolute;\n        pointer-events:none;\n        top: ${c}px;\n        left: ${s}px;\n    `);let h={name:e,size:i,ele:f,x:s,y:c,direction:"left",img:g,speed:l,direction_data:{none:0},draw_index:0,frame:0,show:p,frames:m,updates_per_frames:2,timer:1};if("car"===e&&(h.direction_data={left:0,downleft:1,down:2,upright:3,downright:4,upleft:5,up:6,right:7}),Q.push(h),"coin"===e&&V.push(h),p){const e=f.getContext("2d");g.onload=function(){e.clearRect(0,0,i,i),e.drawImage(g,0,0,i,i,0,0,i,i)},t(n,f)}return f},tt=(e,r)=>{const o=s(".wrapper");Q[e].show=r,r?(null===s(`#${Q[e].name}`)&&t(o,Q[e].ele),1===e&&nt(1,1,"none")):null!==s(`#${Q[e].name}`)&&n(o,Q[e].ele)},nt=(t,n,e)=>{let r=n;if("increment"===n&&(Q[t].timer===Q[t].updates_per_frames?(r=Q[t].frame+1,Q[t].frame=r,Q[t].timer=1):Q[t].timer+=1),r===Q[t].frames&&(r="highlight"===Q[t].name?1:0,Q[t].frame=r),1===Q[t].timer){Q[t].direction=e;const n=Q[t].direction_data[e];Q[t].draw_index=n;const o=Q[t].ele.getContext("2d"),i=Q[t].size,a=Q[t].img;o.clearRect(0,0,i,i),o.drawImage(a,i*r,i*n,i,i,0,0,i,i)}},et=(t,n,e)=>{u(Q[t].ele,`\n        position:absolute;\n        pointer-events:none;\n        top: ${e}px;\n        left: ${n}px;\n    `)},rt=t=>{const e=Q.indexOf(t);if(e>-1){if("coin"===Q[e].name){const n=V.indexOf(t);n>-1&&V.splice(n,1)}n(s(".wrapper"),Q[e].ele),Q.splice(e,1)}},ot=(t,n)=>{const e=Math.floor(n.x/64),r=Math.floor(n.y/64);let o=X[e][r];o++,20==o&&(o=0),((t,n,e)=>{X[t][n]=e})(e,r,o)},it=1e3/30;let at=window.performance.now();const st=(t,n,e)=>{const a=r("canvas");o(a,["game-canvas",`layer-${e}`]),d(a,["width","height"],[`${t}px`,`${n}px`]),u(a,"\n        position:absolute;\n    ");const s=a.getContext("2d");return(t=>{l(t,"click",(n=>{t.getContext("2d");const e=function(t,n){const e=t.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}(t,n);i(t,"layer-1")&&ot(0,e)}))})(a),0===e&&((t,n,e)=>{X=new Array(10).fill(0).map((()=>new Array(10).fill(10))),X[2][1]=11,X[9][9]=18,X[9][8]=18,X[8][8]=19,X[8][9]=19,console.log(X),q(t)})(s),a};function ct(t,n,e){const r=()=>{window.requestAnimationFrame(r);const n=window.performance.now(),e=n-at;e<it||(at=n-e%it,t.map(((t,n)=>{const e=t.getContext("2d");0===n&&q(e)})),V.forEach((t=>{((t,n,e)=>{let r=n;if("increment"===n&&(t.timer===t.updates_per_frames?(r=t.frame+1,t.frame=r,t.timer=1):t.timer+=1),r===t.frames&&(r="highlight"===t.name?1:0,t.frame=r),1===t.timer){t.direction=e;const n=t.direction_data[e];t.draw_index=n;const o=t.ele.getContext("2d"),i=t.size,a=t.img;o.clearRect(0,0,i,i),o.drawImage(a,i*r,i*n,i,i,0,0,i,i)}})(t,"increment","none"),((t,n)=>{const e=t.ele.getBoundingClientRect(),r=n.getBoundingClientRect();!(e.right<r.left||e.left>r.right||e.bottom<r.top||e.top>r.bottom)&&(rt(t),F(),10===P&&g("win"))})(t,s("#car"))})))};r()}const lt=e.p+"2ef5ad381915dbcfb9b2.png";let pt=[];function ut(e,i,a){this.name=e,this.size=64,this.img=i,this.imgsrc=a,this.currentFrame=0,this.canvele,this.imgele,this.init=t=>{this.addedleft=64*pt.length;const n=this.size,e=this.name,i=r("canvas");o(i,["mini-canvas",`${e}`]),d(i,["width","height"],[`${n}px`,`${n}px`]),u(i,"\n            position:absolute;\n            margin: 5 auto;\n            pointer-events:none;\n        ");const a=i.getContext("2d"),s=this.img;s.onload=function(){a.clearRect(0,0,n,n),a.drawImage(s,0,0,n,n,0,0,n,n)},this.canvele=i,this.ctx=a;const c=r("div");return o(c,["canvas-icon"]),u(c,`\n            width: 64px;\n            height: 64px;\n            background: url(${this.imgsrc}) -64px 0, url(${K});\n        `),this.imgele=c,this.initMouse(i,c),c},this.initMouse=(r,o)=>{const a=r.getContext("2d");let c;const u=s(".layer-1");let d,m=[],f=this.size,g=this.currentFrame;const h=t=>{0===m.length&&m.push(setInterval((()=>{g+=1,"can"===this.name&&(ot(0,d),14===g&&(g=10)),"coin"===this.name&&12===g&&(g=0);const t=this.img;a.clearRect(0,0,f,f),a.drawImage(t,g*f,0,f,f,0,0,f,f),this.currentFrame=g}),250))},A=t=>{t.preventDefault();const n=document.body.getBoundingClientRect(),e=u.getBoundingClientRect();d={x:t.clientX-e.left,y:t.clientY-e.top},c={x:t.clientX-n.left,y:t.clientY-n.top},r.style.top=c.y-32+"px",r.style.left=c.x-32+"px"};l(o,"mousedown",(n=>{let e=this.currentFrame;n.preventDefault(),r.style.top="-1000px",r.style.left="-1000px",t(document.body,r),l(document.body,"mousemove",A),l(u,"mouseenter",h),a.clearRect(0,0,f,f),a.drawImage(i,e*f,0,f,f,0,0,f,f)})),l(document.body,"mouseup",(t=>{p(document.body,"mousemove",A),p(u,"mouseenter",h),0!==m.length&&"coin"===e&&W(s(".wrapper"),"coin",64,G,d.x-32,d.y-32,0,!0,12),clearInterval(m[0]),m=[],null!=s(`.mini-canvas.${this.name}`)&&n(document.body,r),a.clearRect(0,0,f,f)}))}}const dt=(t,n)=>{const e=new Image;e.src=n;const r=new ut(t,e,n),o=r.init(pt.length);return pt.push(r),o},mt=e.p+"82e9ac88b221b8bd6b76.png",ft=e.p+"57131d6cff9375848552.png";let gt,ht=!1,At=[],bt=-1;const vt=(t,n,e,i,a)=>{const s=r("div");return o(s,["button",t]),s.id=t,u(s,`\n            position: absolute;\n            left:${i}px;\n            top: ${a}px;\n            width: 32px;\n            height: 32px;\n            background: url(${mt}) -${32*n}px 0;\n        `),l(s,"click",e),s},yt=t=>{const n=s("#promptbut-1");let e;for(i(n,"vibrate")&&a(n,["vibrate"]),setTimeout((()=>o(n,["vibrate"])),100),e=V.length-1;e>=0;e-=1)rt(V[e])},xt=t=>{bt+=1,2===bt&&(bt=-1);const n=s(".layer-1").getContext("2d");if(-1!==bt){const t=new Image;t.src=ft,t.onload=function(){n.drawImage(t,320*bt,0,320,320,0,0,640,640)}}else n.clearRect(0,0,640,640)},Ct=t=>{const n=s("#pointer"),e=s(".layer-0").getBoundingClientRect();let r={x:0,y:0};const i=t=>{r={x:t.clientX-e.left,y:t.clientY-e.top}};i(t),ht?(ht=!1,a(n,["selected"]),clearInterval(At[0]),At=[],p(document,"mousemove",i),tt(1,!1)):(ht=!0,o(n,["selected"]),l(document.body,"mousemove",i),At.push(setInterval((()=>{((t,n,e)=>{const r=Q[t],o=n-r.x,i=e-r.y,a=Math.sqrt(o*o+i*i),s=o/a*r.speed,c=i/a*r.speed,l=r.x+s,p=r.y+c,u=Q[t].size,d=((t,n)=>{const e=Math.floor(t/64),r=Math.floor(n/64);return X[e][r]})(l,p);if(a>r.speed&&!Y.includes(d)){Q[t].x=l,Q[t].y=p,et(t,l-u/2,p-u/2);let n=Math.atan(-c/s);s<0&&(-c<0?n-=Math.PI:n+=Math.PI),n*=180/Math.PI;let e="left";n>=22.5&&n<=67.5?e="upright":n>=67.5&&n<=112.5?e="up":n>=112.5&&n<=157.5?e="upleft":n<=22.5&&n>=-22.5?e="right":n<=-22.5&&n>=-67.5?e="downright":n<=-67.5&&n>=-112.5?e="down":n<=-112.5&&n>=-157.5?e="downleft":n>=157.5&&n<=-157.5&&(e="left"),nt(0,"increment",e)}})(0,r.x,r.y),nt(1,"increment","none"),et(1,64*Math.floor(r.x/64),64*Math.floor(r.y/64))}),50)),tt(1,!0))},wt=r("div");o(wt,["game"]),t(document.body,wt),u(wt,"\n    display:flex;\n    flex-direction:column;\n    justify-content:center;\n    align-items:center;\n    position:relative;\n"),t(wt,(()=>{u(document.body,`\n        background-color: #242424;\n        background-image: url("${O}");\n        background-size: 70px;\n        background-repeat: repeat;\n    `);const n=(()=>{const n=r("div");return o(n,["wrapper"]),u(n,"\n        position:relative;\n        left: -320px;\n    "),t(document.body,n),n})(),e=st(640,640,0),i=st(640,640,1);var a;t(n,e),t(n,i),W(a=n,"car",64,U,300,200,5,!0,3),W(a,"highlight",64,K,0,0,0,!1,8),W(a,"coin",64,G,400,500,0,!0,12),console.log("commencing"),ct([e,i]);const s=(gt=r("div"),o(gt,["button-overlay"]),u(gt,"\n        min-height: 640;\n        min-width: 640;\n        position: absolute;\n    "),(n=>{t(n,vt("promptbut-1",2,g,16,16)),t(n,vt("shaker",3,yt,16,80)),t(n,vt("pointer",7,Ct,16,144)),t(n,vt("changebg",8,xt,16,208))})(gt),gt);return t(n,s),n})()),t(wt,(()=>{const n=(()=>{const n=r("div");return o(n,["mini-wrapper"]),u(n,"\n        position:relative;\n        background-color: #000000;\n        top: 650px;\n        width: 640px;\n        display:flex;\n        justify-content: flex-start; \n        height:64px;\n        align-items:center;\n    "),t(document.body,n),n})();return t(e=n,dt("can",lt)),t(e,dt("coin",G)),n;var e})()),t(wt,(()=>{const n=(()=>{const n=r("div");o(n,["debug-wrapper"]),u(n,"\n        position:relative;\n        top:660px;\n    ");const e=r("input");e.id="slider1",l(e,"input",D),d(e,["type","min","max","value","class"],["range","0","640","0","slidey"]),t(n,e);const i=r("input");i.id="slider2",l(i,"input",D),d(i,["type","min","max","value","class"],["range","0","640","0","slidey"]),t(n,i);const a=r("h1");return a.id="score",u(a,"\n        color:white;\n        font-family: munro;\n    "),F(a),t(n,a),n})();return t(document.body,n),n})()),g("tutorial")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TCxFQUFPaEUsU0FBUzhHLEtBQU04SSxHQUNmQSxDQUFNLEVJUU1PLEdBRW5CLE9IbUhBbk0sRUFEZW1NLEVHbkhMRCxFSG9IVXRDLEdBQVMsTUFBTyxLQUNwQzVKLEVBQU9tTSxFQUFhdkMsR0FBUyxPQUFRLElHcEg5QnNDLEVIa0hPLElBQUNDLENHbEhFLEVEckJSQyxJQUNicE0sRUFBTzJMLEdDdUJXLE1BQ2QsTUFBTVUsRVYxQlMsTUFDZixNQUFNQyxFQUFZbk0sRUFBTyxPQUN6QkMsRUFBU2tNLEVBQVcsQ0FBQyxrQkFDckJ6USxFQUFNeVEsRUFBVSwwREFLaEIsTUFBTUMsRUFBU3BNLEVBQU8sU0FDdEJvTSxFQUFPdFYsR0FBSyxVQUNaaUssRUFBT3FMLEVBQVEsUUFBUzNJLEdBQ3hCbkMsRUFBUThLLEVBQU8sQ0FBQyxPQUFRLE1BQU8sTUFBTyxRQUFTLFNBQVUsQ0FBQyxRQUFTLElBQUssTUFBTSxJQUFJLFdBQ2xGdk0sRUFBT3NNLEVBQVdDLEdBR2xCLE1BQU1DLEVBQVVyTSxFQUFPLFNBQ3ZCcU0sRUFBUXZWLEdBQUssVUFDYmlLLEVBQU9zTCxFQUFTLFFBQVM1SSxHQUN6Qm5DLEVBQVErSyxFQUFRLENBQUMsT0FBUSxNQUFPLE1BQU8sUUFBUyxTQUFVLENBQUMsUUFBUyxJQUFLLE1BQU0sSUFBSSxXQUNuRnhNLEVBQU9zTSxFQUFXRSxHQUVsQixNQUFNN0ksRUFBV3hELEVBQU8sTUFTeEIsT0FSQXdELEVBQVMxTSxHQUFLLFFBQ2Q0RSxFQUFNOEgsRUFBVSw2REFJaEJELEVBQWVDLEdBQ2YzRCxFQUFPc00sRUFBVzNJLEdBRVgySSxDQUFTLEVVSkVHLEdBRWxCLE9BREF6TSxFQUFPaEUsU0FBUzhHLEtBQU11SixHQUNmQSxDQUFTLEVEMUJQSyxJQUViNUssRUFBYSxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jc3MvYW5pbWF0aW9ucy5jc3MiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jc3MvZm9udHMuY3NzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL3NjcmlwdHMvUW9MLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvY29tcG9uZW50cy9wcm9tcHRzLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvY3NzL2FuaW1hdGlvbnMuY3NzPzM1ZTUiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jc3MvZm9udHMuY3NzP2UzZTAiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9jb21wb25lbnRzL2RlYnVnVG9vbHMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9zY3JpcHRzL2NhbnZhc0Z1bmNzLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvY29tcG9uZW50cy9zcHJpdGVjYW52YXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9zY3JpcHRzL2NhbnZNb3VzZUZ1bmNzLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvY29tcG9uZW50cy9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay10ZXN0My8uL3NyYy9zY3JpcHRzL1NDYW5pbWF0aW9ucy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL2NvbXBvbmVudHMvd3JhcHBlci5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL2NvbXBvbmVudHMvbWluaUNhbnZhcy5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9uT3ZlcmxheS5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlc3QzLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYnBhY2stdGVzdDMvLi9zcmMvc2NyaXB0cy9zdGFydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLnN0YXJ0LXN0YXRle1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC0yMDAwcHgpO1xufVxuXG4uZW5kLXN0YXRle1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7XG59XG5cbi52aWJyYXRlIHtcbiAgICBhbmltYXRpb246IHRpbHQtc2hha2luZyAwLjI1cyA1O1xufSAgXG5cbkBrZXlmcmFtZXMgdGlsdC1zaGFraW5nIHtcbiAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gICAgMjUlIHsgdHJhbnNmb3JtOiByb3RhdGUoNWRlZyk7IH1cbiAgICA1MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZWcpOyB9XG4gICAgNzUlIHsgdHJhbnNmb3JtOiByb3RhdGUoLTVkZWcpOyB9XG4gICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG59XG5cbi5idXR0b24gLmNhbnZhcy1pY29ue1xuICAgIC13ZWJraXQtZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xuXHQtbW96LWZpbHRlcjogYnJpZ2h0bmVzcygxMDAlKTtcblx0LW8tZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xuXHQtbXMtZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xuXHRmaWx0ZXI6IGJyaWdodG5lc3MoMTAwJSk7XG59XG5cbi5idXR0b246aG92ZXIsIC5jYW52YXMtaWNvbjpob3ZlciwgLnNlbGVjdGVke1xuICAgIC13ZWJraXQtZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XG5cdC1tb3otZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XG5cdC1vLWZpbHRlcjogYnJpZ2h0bmVzcyg4MCUpO1xuXHQtbXMtZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XG5cdGZpbHRlcjogYnJpZ2h0bmVzcyg4MCUpO1xufVxuXG4uYnV0dG9uOmFjdGl2ZSwgLmNhbnZhcy1pY29uOmFjdGl2ZXtcbiAgICAtd2Via2l0LWZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xuXHQtbW96LWZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xuXHQtby1maWx0ZXI6IGJyaWdodG5lc3MoNjAlKTtcblx0LW1zLWZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xuXHRmaWx0ZXI6IGJyaWdodG5lc3MoNjAlKTtcbn1cblxuLm5vdHJhbnNpdGlvbiB7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XG4gICAgLW1vei10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XG4gICAgLW8tdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50O1xuICAgIC1tcy10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XG4gICAgdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50O1xufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9hbmltYXRpb25zLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLCtCQUErQjtBQUNuQzs7QUFFQTtJQUNJLEtBQUssdUJBQXVCLEVBQUU7SUFDOUIsTUFBTSx1QkFBdUIsRUFBRTtJQUMvQixNQUFNLHNCQUFzQixFQUFFO0lBQzlCLE1BQU0sd0JBQXdCLEVBQUU7SUFDaEMsT0FBTyx1QkFBdUIsRUFBRTtBQUNwQzs7QUFFQTtJQUNJLGdDQUFnQztDQUNuQyw2QkFBNkI7Q0FDN0IsMkJBQTJCO0NBQzNCLDRCQUE0QjtDQUM1Qix3QkFBd0I7QUFDekI7O0FBRUE7SUFDSSwrQkFBK0I7Q0FDbEMsNEJBQTRCO0NBQzVCLDBCQUEwQjtDQUMxQiwyQkFBMkI7Q0FDM0IsdUJBQXVCO0FBQ3hCOztBQUVBO0lBQ0ksK0JBQStCO0NBQ2xDLDRCQUE0QjtDQUM1QiwwQkFBMEI7Q0FDMUIsMkJBQTJCO0NBQzNCLHVCQUF1QjtBQUN4Qjs7QUFFQTtJQUNJLG1DQUFtQztJQUNuQyxnQ0FBZ0M7SUFDaEMsOEJBQThCO0lBQzlCLCtCQUErQjtJQUMvQiwyQkFBMkI7QUFDL0JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnN0YXJ0LXN0YXRle1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtMjAwMHB4KTtcXG59XFxuXFxuLmVuZC1zdGF0ZXtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcXG59XFxuXFxuLnZpYnJhdGUge1xcbiAgICBhbmltYXRpb246IHRpbHQtc2hha2luZyAwLjI1cyA1O1xcbn0gIFxcblxcbkBrZXlmcmFtZXMgdGlsdC1zaGFraW5nIHtcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxcbiAgICAyNSUgeyB0cmFuc2Zvcm06IHJvdGF0ZSg1ZGVnKTsgfVxcbiAgICA1MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZWcpOyB9XFxuICAgIDc1JSB7IHRyYW5zZm9ybTogcm90YXRlKC01ZGVnKTsgfVxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cXG59XFxuXFxuLmJ1dHRvbiAuY2FudmFzLWljb257XFxuICAgIC13ZWJraXQtZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xcblxcdC1tb3otZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xcblxcdC1vLWZpbHRlcjogYnJpZ2h0bmVzcygxMDAlKTtcXG5cXHQtbXMtZmlsdGVyOiBicmlnaHRuZXNzKDEwMCUpO1xcblxcdGZpbHRlcjogYnJpZ2h0bmVzcygxMDAlKTtcXG59XFxuXFxuLmJ1dHRvbjpob3ZlciwgLmNhbnZhcy1pY29uOmhvdmVyLCAuc2VsZWN0ZWR7XFxuICAgIC13ZWJraXQtZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XFxuXFx0LW1vei1maWx0ZXI6IGJyaWdodG5lc3MoODAlKTtcXG5cXHQtby1maWx0ZXI6IGJyaWdodG5lc3MoODAlKTtcXG5cXHQtbXMtZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XFxuXFx0ZmlsdGVyOiBicmlnaHRuZXNzKDgwJSk7XFxufVxcblxcbi5idXR0b246YWN0aXZlLCAuY2FudmFzLWljb246YWN0aXZle1xcbiAgICAtd2Via2l0LWZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xcblxcdC1tb3otZmlsdGVyOiBicmlnaHRuZXNzKDYwJSk7XFxuXFx0LW8tZmlsdGVyOiBicmlnaHRuZXNzKDYwJSk7XFxuXFx0LW1zLWZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xcblxcdGZpbHRlcjogYnJpZ2h0bmVzcyg2MCUpO1xcbn1cXG5cXG4ubm90cmFuc2l0aW9uIHtcXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XFxuICAgIC1tb3otdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50O1xcbiAgICAtby10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XFxuICAgIC1tcy10cmFuc2l0aW9uOiBub25lICFpbXBvcnRhbnQ7XFxuICAgIHRyYW5zaXRpb246IG5vbmUgIWltcG9ydGFudDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuLi9mb250cy9tdW5yby50dGZcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYEBmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiAnbXVucm8nO1xuICAgIHNyYzogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fX30pIGZvcm1hdCgndHJ1ZXR5cGUnKTtcbiAgfVxuXG4gIC8qXG4gIEBmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiAnbXVucm8tbmFycm93JztcbiAgICBzcmM6IHVybCguLi9mb250cy9tdW5yby1uYXJyb3cudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyk7XG4gIH1cbiAgXG4gIEBmb250LWZhY2Uge1xuICAgIGZvbnQtZmFtaWx5OiAnbXVucm8tc21hbGwnO1xuICAgIHNyYzogdXJsKC4uL2ZvbnRzL211bnJvLXNtYWxsLnR0ZikgZm9ybWF0KCd0cnVldHlwZScpO1xuICB9XG4gICovYCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY3NzL2ZvbnRzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG9CQUFvQjtJQUNwQiwrREFBK0M7RUFDakQ7O0VBRUE7Ozs7Ozs7Ozs7R0FVQ1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAZm9udC1mYWNlIHtcXG4gICAgZm9udC1mYW1pbHk6ICdtdW5ybyc7XFxuICAgIHNyYzogdXJsKC4uL2ZvbnRzL211bnJvLnR0ZikgZm9ybWF0KCd0cnVldHlwZScpO1xcbiAgfVxcblxcbiAgLypcXG4gIEBmb250LWZhY2Uge1xcbiAgICBmb250LWZhbWlseTogJ211bnJvLW5hcnJvdyc7XFxuICAgIHNyYzogdXJsKC4uL2ZvbnRzL211bnJvLW5hcnJvdy50dGYpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcXG4gIH1cXG4gIFxcbiAgQGZvbnQtZmFjZSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnbXVucm8tc21hbGwnO1xcbiAgICBzcmM6IHVybCguLi9mb250cy9tdW5yby1zbWFsbC50dGYpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcXG4gIH1cXG4gICovXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTtcblxuICAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfVxuXG4gIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcbiAgaWYgKC9bXCInKCkgXFx0XFxuXXwoJTIwKS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJjb25zdCByZW5kZXIgPSAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG59XG5cbmNvbnN0IHJlbW92ZSA9IChwYXJlbnQsIGNoaWxkKSA9PntcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xufVxuXG5jb25zdCBjcmVhdGUgPSAoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xufVxuXG5jb25zdCBhZGRDbGFzcyA9IChlbGVtZW50LCBjbGFzc2xpc3QpID0+e1xuICAgIGNsYXNzbGlzdC5mb3JFYWNoKGNsYXMgPT4ge2VsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzKX0pO1xufVxuXG5jb25zdCBoYXNDbGFzcyA9IChlbGVtZW50LCBjbGFzKSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXMpO1xufVxuXG5jb25zdCByZW1DbGFzcyA9IChlbGVtZW50LCBjbGFzc2xpc3QpID0+e1xuICAgIGNsYXNzbGlzdC5mb3JFYWNoKGNsYXMgPT4ge2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzKX0pO1xufVxuXG5jb25zdCBmaW5kID0gKHNlbGVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5jb25zdCB3cml0ZSA9IChlbGVtZW50LCB0ZXh0KSA9PiB7XG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmNvbnN0IGRldGVjdCA9IChlbGVtZW50LCBldmVudCwgZnVuYykgPT57XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTtcbn1cblxuY29uc3QgdW5kZXRlY3QgPSAoZWxlbWVudCwgZXZlbnQsIGZ1bmMpID0+e1xuICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuYyk7XG59XG5cbmNvbnN0IHN0eWxlID0gKGVsZW1lbnQsIHN0eWxldGV4dCkgPT4ge1xuICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IHN0eWxldGV4dDtcbn1cblxuY29uc3QgYXR0cmlicyA9IChlbGVtZW50LCBhdHRyaWJMaXN0LCB2YWx1ZXMpID0+IHtcbiAgICBhdHRyaWJMaXN0Lm1hcCgoYXR0cmliLGluZGV4KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYiwgdmFsdWVzW2luZGV4XSk7XG4gICAgfSlcbn1cblxuZXhwb3J0IHtyZW5kZXIsIHJlbW92ZSwgY3JlYXRlLCBhZGRDbGFzcywgaGFzQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LCB1bmRldGVjdCwgc3R5bGUsIGF0dHJpYnN9IiwiaW1wb3J0IHtyZW5kZXIsIHJlbW92ZSwgY3JlYXRlLCBhZGRDbGFzcywgcmVtQ2xhc3MsIGhhc0NsYXNzLCBhdHRyaWJzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LCB1bmRldGVjdCwgc3R5bGV9IGZyb20gXCIuLi9zY3JpcHRzL1FvTFwiXG5pbXBvcnQgY2xvc2UgZnJvbSBcIi4uL2ltYWdlcy9jbG9zZS5wbmdcIlxuXG5sZXQgYnV0T3Y7XG5sZXQgY3VycmVudE1vdmluZ0NvZGUgPSAwO1xuLypcbiAgICBQcm9tcHQgY29kZTpcbiAgICAxOiB0ZXN0X3Byb21wdFxuICAgIDI6IHdpbiBzY3JlZW5cbiAgICAzOiB0dXRvcmlhbFxuXG4qL1xuXG5jb25zdCB0b2dnbGVQcm9tcHQgPSAoZSkgPT4ge1xuICAgIGxldCBjb2RlID0gMDtcbiAgICBsZXQgcHJvbXB0ID0gXCJcIjtcbiAgICBpZiAodHlwZW9mIGUgPT09ICdzdHJpbmcnIHx8IGUgaW5zdGFuY2VvZiBTdHJpbmcpe1xuICAgICAgICBpZiAoZSA9PT0gXCJ3aW5cIil7XG4gICAgICAgICAgICBjb2RlID0gMjtcbiAgICAgICAgICAgIHByb21wdCA9IFwieW91IHdvbiFcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSA9PT0gXCJ0dXRvcmlhbFwiKXtcbiAgICAgICAgICAgIGNvZGUgPSAzO1xuICAgICAgICAgICAgcHJvbXB0ID0gXCJ3ZWxjb21lISBob3cgdG8gcGxheTogZmluZCBvdXQhXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSBcInByb21wdGJ1dC0xXCIgfHwgZS50YXJnZXQuaWQgPT09IFwiY2xvc2Vwcm9tcHQtMVwiKXtcbiAgICAgICAgICAgIGNvZGUgPSAxO1xuICAgICAgICAgICAgcHJvbXB0ID0gXCJ5b3UgaGF2ZSBiZWVuIHByb21wdGVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQuaWQgPT09IFwiY2xvc2Vwcm9tcHQtMlwiKXtcbiAgICAgICAgICAgIGNvZGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGUudGFyZ2V0LmlkID09PSBcImNsb3NlcHJvbXB0LTNcIil7XG4gICAgICAgICAgICBjb2RlID0gMztcbiAgICAgICAgfVxuICAgIH0gICBcbiAgICBcblxuICAgIGNvbnN0IGV4aXN0cyA9IGZpbmQoYCNwcm9tcHQtJHtjb2RlfWApO1xuICAgIGlmIChleGlzdHMgIT0gbnVsbCkgeyBcbiAgICAgICAgYWRkQ2xhc3MoZXhpc3RzLCBbXCJlbmQtc3RhdGVcIl0pO1xuICAgICAgICBzZXRUaW1lb3V0KCgpPT4gcmVtb3ZlKGZpbmQoXCIud3JhcHBlclwiKSwgZXhpc3RzKSwgMjAwKTtcbiAgICB9IFxuICAgIGVsc2V7XG4gICAgICAgIGNyZWF0ZVByb21wdChwcm9tcHQsY29kZSk7XG4gICAgfVxufVxuXG5jb25zdCBjcmVhdGVQcm9tcHQgPSAobXl0ZXh0LCBjb2RlKSA9PiB7XG4gICAgY29uc3QgYnV0T3YgPSBmaW5kKFwiLmJ1dHRvbi1vdmVybGF5XCIpO1xuICAgIGNvbnN0IHByb21wdCA9IGNyZWF0ZShcImRpdlwiKTtcbiAgICAgICAgYWRkQ2xhc3MocHJvbXB0LCBbXCJwcm9tcHRcIiwgXCJzdGFydC1zdGF0ZVwiXSk7XG4gICAgICAgIGF0dHJpYnMocHJvbXB0LCBbXCJpZFwiLCBcImRyYWdnYWJsZVwiXSwgW2Bwcm9tcHQtJHtjb2RlfWAsIFwiZmFsc2VcIl0pXG5cbiAgICAgICAgLy9tYWtlIHByb21wdCBpbmRleCBzeXN0ZW0gcGxzXG4gICAgICAgIHN0eWxlKHByb21wdCwgYFxuICAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBzbGF0ZWdyYXk7XG4gICAgICAgICAgICBib3JkZXI6IDVweCBzb2xpZCBkYXJrc2xhdGVncmF5O1xuICAgICAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjFzO1xuICAgICAgICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDBweDtcbiAgICAgICAgICAgIGxlZnQ6IDIwMHB4O1xuICAgICAgICAgICAgdG9wOiAyNTBweDtcbiAgICAgICAgYCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkcmFnID0gZHJhZ0Jhcihjb2RlKTtcbiAgICAgICAgcmVuZGVyKHByb21wdCwgZHJhZyk7XG5cbiAgICAgICAgcmVuZGVyKHByb21wdCwgY3JlYXRlVGV4dChteXRleHQpKTtcbiAgICAgICAgcmVuZGVyKGZpbmQoXCIud3JhcHBlclwiKSwgcHJvbXB0KTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpPT4gcHJvbXB0LmNsYXNzTGlzdC5yZW1vdmUoXCJzdGFydC1zdGF0ZVwiKSwgMTAwKTtcbn1cblxuY29uc3QgY3JlYXRlVGV4dCA9IChteXRleHQpID0+e1xuICAgIGNvbnN0IHRleHQgPSBjcmVhdGUoXCJkaXZcIik7XG4gICAgICAgIHN0eWxlKHRleHQsIGBcbiAgICAgICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgICAgICAgIG1hcmdpbjoxNXB4IDVweDtcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnbXVucm8nO1xuICAgICAgICBgKTtcbiAgICB3cml0ZSh0ZXh0LCBteXRleHQpO1xuXG4gICAgcmV0dXJuIHRleHQ7XG59XG5cblxuY29uc3QgZHJhZ0JhciA9IChjb2RlKSA9PiB7XG4gICAgY29uc3QgYmFyID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKGJhciwgW1wiYmFyXCJdKTtcbiAgICBhdHRyaWJzKGJhciwgW1wiaWRcIiwgXCJkcmFnZ2FibGVcIl0sIFtgYmFyLSR7Y29kZX1gLCBcImZhbHNlXCJdKVxuICAgIHN0eWxlKGJhciwgYFxuICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgICAgIHBhZGRpbmc6IDVweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZGFya3NsYXRlZ3JheTtcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgIGApXG4gICAgXG5cbiAgICBjb25zdCBjbG9zZVByb21wdCA9IGNyZWF0ZShcImRpdlwiKTtcbiAgICBhZGRDbGFzcyhjbG9zZVByb21wdCwgW1wiYnV0dG9uXCIsIFwiY2xvc2Vwcm9tcHRcIl0pO1xuICAgIGNsb3NlUHJvbXB0LmlkID0gICBgY2xvc2Vwcm9tcHQtJHtjb2RlfWA7XG4gICAgc3R5bGUoY2xvc2VQcm9tcHQsIGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgaGVpZ2h0OiAxNnB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJHtjbG9zZX0pO1xuICAgIGApO1xuXG4gICAgcmVuZGVyKGJhciwgY2xvc2VQcm9tcHQpO1xuICAgIGRldGVjdChiYXIsIFwibW91c2Vkb3duXCIsIG1vdXNlRG93bik7XG4gICAgZGV0ZWN0KGJhciwgXCJtb3VzZXVwXCIsIG1vdXNlVXApO1xuICAgIC8vZml4IHRoZSBpc3N1ZSB5b3Uga25vdyB3aGF0IGl0IGlzXG5cbiAgICBkZXRlY3QoY2xvc2VQcm9tcHQsIFwiY2xpY2tcIiwgdG9nZ2xlUHJvbXB0KTtcblxuICAgIHJldHVybiBiYXI7XG59XG5cbmNvbnN0IG1vdXNlRG93biA9IChlKSA9PntcbiAgICBjb25zdCBjb2RlID0gZS50YXJnZXQuaWQuc3BsaXQoJy0nKVsxXTtcbiAgICBjdXJyZW50TW92aW5nQ29kZSA9IGNvZGU7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGRldGVjdChkb2N1bWVudC5ib2R5LCBcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmUpO1xuICAgIGFkZENsYXNzKGZpbmQoYCNwcm9tcHQtJHtjb2RlfWApLCBbXCJub3RyYW5zaXRpb25cIl0pO1xufVxuXG5jb25zdCBtb3VzZU1vdmUgPSAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgcHJvbXB0ID0gZmluZChgI3Byb21wdC0ke2N1cnJlbnRNb3ZpbmdDb2RlfWApO1xuICAgIGNvbnN0IHJlY3QgPSBmaW5kKFwiLndyYXBwZXJcIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgbW91c2VQb3MgPSB7XG4gICAgICAgIHg6IGV2dC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICB5OiBldnQuY2xpZW50WSAtIHJlY3QudG9wXG4gICAgfTtcbiAgICBcbiAgICBpZiAocHJvbXB0ICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgcHJvbXB0LnN0eWxlLnRvcCA9IG1vdXNlUG9zLnkgLTEwICtcInB4XCI7XG4gICAgICAgIHByb21wdC5zdHlsZS5sZWZ0ID0gbW91c2VQb3MueCAtMTAwICsgXCJweFwiO1xuICAgIH1cbn1cblxuY29uc3QgbW91c2VVcCA9IChlKSA9PntcbiAgICB1bmRldGVjdChkb2N1bWVudC5ib2R5LFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZSk7XG4gICAgcmVtQ2xhc3MoZmluZChgI3Byb21wdC0ke2N1cnJlbnRNb3ZpbmdDb2RlfWApLCBbXCJub3RyYW5zaXRpb25cIl0pO1xuICAgIGN1cnJlbnRNb3ZpbmdDb2RlID0gMDtcbn1cbmV4cG9ydCB7dG9nZ2xlUHJvbXB0fTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYW5pbWF0aW9ucy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2FuaW1hdGlvbnMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2ZvbnRzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vZm9udHMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHtyZW5kZXIsIGNyZWF0ZSwgYWRkQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LHN0eWxlLGF0dHJpYnN9IGZyb20gXCIuLi9zY3JpcHRzL1FvTFwiXG5cbmxldCBzY29yZSA9IC0xO1xuXG5jb25zdCBpbmNyZW1lbnRTY29yZSA9IChzY29yZWVsZSA9IFwiYnJ1aFwiKSA9PiB7XG4gICAgc2NvcmUrPSAxO1xuICAgIGlmIChzY29yZWVsZSA9PT0gXCJicnVoXCIpe1xuICAgICAgICB3cml0ZShmaW5kKFwiI3Njb3JlXCIpLCBgU2NvcmU6ICR7c2NvcmV9YClcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgd3JpdGUoc2NvcmVlbGUsIGBTY29yZTogJHtzY29yZX1gKVxuICAgIH1cblxufVxuXG5jb25zdCBkZWJ1Z1Rvb2xzID0gKCkgPT57XG4gICAgY29uc3QgZGVidWdXcmFwID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKGRlYnVnV3JhcCwgW1wiZGVidWctd3JhcHBlclwiXSk7XG4gICAgc3R5bGUoZGVidWdXcmFwLGBcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgIHRvcDo2NjBweDtcbiAgICBgKVxuXG4gICAgY29uc3Qgc2xpZGVyID0gY3JlYXRlKFwiaW5wdXRcIik7XG4gICAgc2xpZGVyLmlkID0gXCJzbGlkZXIxXCI7XG4gICAgZGV0ZWN0KHNsaWRlciwgXCJpbnB1dFwiLCBzbGlkZUZ1bmMpO1xuICAgIGF0dHJpYnMoc2xpZGVyLFtcInR5cGVcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJ2YWx1ZVwiLCBcImNsYXNzXCJdLCBbXCJyYW5nZVwiLCBcIjBcIiwgXCI2NDBcIixcIjBcIixcInNsaWRleVwiXSlcbiAgICByZW5kZXIoZGVidWdXcmFwLCBzbGlkZXIpO1xuXG5cbiAgICBjb25zdCBzbGlkZXIyID0gY3JlYXRlKFwiaW5wdXRcIik7XG4gICAgc2xpZGVyMi5pZCA9IFwic2xpZGVyMlwiO1xuICAgIGRldGVjdChzbGlkZXIyLCBcImlucHV0XCIsIHNsaWRlRnVuYyk7XG4gICAgYXR0cmlicyhzbGlkZXIyLFtcInR5cGVcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJ2YWx1ZVwiLCBcImNsYXNzXCJdLCBbXCJyYW5nZVwiLCBcIjBcIiwgXCI2NDBcIixcIjBcIixcInNsaWRleVwiXSlcbiAgICByZW5kZXIoZGVidWdXcmFwLCBzbGlkZXIyKTtcblxuICAgIGNvbnN0IHNjb3JlZWxlID0gY3JlYXRlKFwiaDFcIilcbiAgICBzY29yZWVsZS5pZCA9IFwic2NvcmVcIjtcbiAgICBzdHlsZShzY29yZWVsZSwgYFxuICAgICAgICBjb2xvcjp3aGl0ZTtcbiAgICAgICAgZm9udC1mYW1pbHk6IG11bnJvO1xuICAgIGApXG4gICAgaW5jcmVtZW50U2NvcmUoc2NvcmVlbGUpO1xuICAgIHJlbmRlcihkZWJ1Z1dyYXAsIHNjb3JlZWxlKTtcblxuICAgIHJldHVybiBkZWJ1Z1dyYXA7XG59XG5cbmNvbnN0IHNsaWRlRnVuYyA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmlkID09PSBcInNsaWRlcjFcIil7XG4gICAgICAgIGNvbnN0IGNhbnYgPSBmaW5kKFwiLmxheWVyLTFcIik7XG4gICAgICAgIGNhbnYuc3R5bGUubGVmdCA9IGAke2UudGFyZ2V0LnZhbHVlfXB4YFxuICAgIH1cbiAgICBlbHNlIGlmIChlLnRhcmdldC5pZCA9PT0gXCJzbGlkZXIyXCIpe1xuICAgICAgICBjb25zdCBidXRPdiA9IGZpbmQoXCIuYnV0dG9uLW92ZXJsYXlcIik7XG4gICAgICAgIGJ1dE92LnN0eWxlLmxlZnQgPSBgJHtlLnRhcmdldC52YWx1ZX1weGBcbiAgICB9XG59XG5cbmV4cG9ydHtkZWJ1Z1Rvb2xzLCBpbmNyZW1lbnRTY29yZSwgc2NvcmV9OyIsImltcG9ydCBmbG9vcl90aWxlcyBmcm9tIFwiLi4vaW1hZ2VzL2Zsb29yX3RpbGVzLnBuZ1wiO1xuXG5sZXQgdGlsZXM7XG5jb25zdCBjb2xsaXNpb25fdGlsZXMgPSBbMTEsMTQsMTUsMTYsMTldXG5cbmNvbnN0IHVwZGF0ZUJhY2tncm91bmQgPSAoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgcmVuZGVyVGlsZXModGlsZXMsY3R4KTtcbn1cblxuY29uc3QgaW5pdEJhY2tncm91bmQgPSAoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PntcbiAgICB0aWxlcyA9IGdlbmVyYXRlVGlsZXMoKTtcbiAgICB0aWxlc1syXVsxXSA9IDExO1xuICAgIHRpbGVzWzldWzldID0gMTg7XG4gICAgdGlsZXNbOV1bOF0gPSAxODtcbiAgICB0aWxlc1s4XVs4XSA9IDE5O1xuICAgIHRpbGVzWzhdWzldID0gMTk7XG4gICAgY29uc29sZS5sb2codGlsZXMpO1xuICAgIHVwZGF0ZUJhY2tncm91bmQoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcbn1cblxuY29uc3QgcmVuZGVyVGlsZXMgPSAodGlsZXMsY3R4KSA9PntcbiAgICB0aWxlcy5mb3JFYWNoKChyb3csaW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKHRpbGUsaW5kZXgyKSA9PntcbiAgICAgICAgICAgIGRyYXdUaWxlKHRpbGUsIGluZGV4LCBpbmRleDIsIGN0eCk7XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuY29uc3QgZHJhd1RpbGU9KHRpbGUseCx5LCBjdHgpID0+e1xuICAgIGNvbnN0IHNpemUgPSA2NDtcbiAgICBsZXQgdGlsZXNldCA9IG5ldyBJbWFnZSgpO1xuICAgIHRpbGVzZXQuc3JjID0gZmxvb3JfdGlsZXM7XG4gICAgdGlsZXNldC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9kcmF3SW1hZ2UoaW1hZ2UsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCBkeCwgZHksIGRXaWR0aCwgZEhlaWdodClcbiAgICAgICAgLy93aGVyZSBzID0gc3ByaXRlLCBkID0gZHJhd1xuICAgICAgICAvL2N0eC5yb3RhdGUoKDkwICogTWF0aC5QSSkgLyAxODApO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRpbGVzZXQsIHRpbGUqc2l6ZSwgMCwgc2l6ZSwgc2l6ZSwgeCpzaXplLCB5KnNpemUsIHNpemUsc2l6ZSk7XG4gICAgfSAgXG59XG5cbmNvbnN0IG1vZGlmeVRpbGUgPSAoeCx5LCB0aWxlKSA9PiB7XG4gICAgdGlsZXNbeF1beV0gPSB0aWxlO1xufVxuXG5jb25zdCBnZXRUaWxlcyA9ICgpID0+IHtcbiAgICByZXR1cm4odGlsZXMpO1xufVxuXG5jb25zdCBnZW5lcmF0ZVRpbGVzID0gKCkgPT4ge1xuICAgIGNvbnN0IGFyciA9IG5ldyBBcnJheSgxMCkuZmlsbCgwKS5tYXAoKCk9Pm5ldyBBcnJheSgxMCkuZmlsbCgxMCkpO1xuICAgIHJldHVybiBhcnI7XG59XG5cbmNvbnN0IGNsZWFyID0gKGN0eCwgd2lkdGgsIGhlaWdodCkgPT57XG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbn1cblxuY29uc3QgZGV0ZWN0VGlsZSA9ICh4LCB5KSA9PiB7XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoeC82NClcbiAgICBjb25zdCBqID0gTWF0aC5mbG9vcih5LzY0KVxuICAgIHJldHVybiB0aWxlc1tpXVtqXVxufVxuXG5leHBvcnQge2luaXRCYWNrZ3JvdW5kLCB1cGRhdGVCYWNrZ3JvdW5kLCBjbGVhciwgbW9kaWZ5VGlsZSwgZ2V0VGlsZXMsIGNvbGxpc2lvbl90aWxlcywgZGV0ZWN0VGlsZX0iLCJpbXBvcnQge3JlbmRlciwgcmVtb3ZlLCBjcmVhdGUsIGFkZENsYXNzLCBoYXNDbGFzcywgcmVtQ2xhc3MsIGZpbmQsIHdyaXRlLCBkZXRlY3QsIHVuZGV0ZWN0LCBzdHlsZSwgYXR0cmlic30gZnJvbSBcIi4uL3NjcmlwdHMvUW9MXCJcbmltcG9ydCBjYXJzcmMgZnJvbSBcIi4uL2ltYWdlcy9DYXJfdXBkYXRlZC5wbmdcIlxuaW1wb3J0IHsgZGV0ZWN0VGlsZSwgZ2V0VGlsZXMgfSBmcm9tIFwiLi4vc2NyaXB0cy9jYW52YXNGdW5jc1wiXG5pbXBvcnQgaGxzcmMgZnJvbSBcIi4uL2ltYWdlcy9kZWNvci5wbmdcIlxuaW1wb3J0IHsgY29sbGlzaW9uX3RpbGVzIH0gZnJvbSBcIi4uL3NjcmlwdHMvY2FudmFzRnVuY3NcIlxuaW1wb3J0IGNvaW5zcmMgZnJvbSBcIi4uL2ltYWdlcy9jb2luLnBuZ1wiXG5cbmxldCBzY19saXN0ID0gW107XG5sZXQgY29pbl9saXN0ID0gW107XG5cbmNvbnN0IHNwcml0ZUNhbnZhcyA9ICh3cmFwcGVyLCBuYW1lLCBzaXplLCBpbWdzcmMsIHgsIHksIHNwZWVkLCBzaG93LCBmcmFtZXMpID0+e1xuXG4gICAgY29uc3QgY2FudiA9IGNyZWF0ZShcImNhbnZhc1wiKTtcbiAgICBhZGRDbGFzcyhjYW52LCBbXCJzcHJpdGVjYW52YXNcIl0pO1xuICAgIGF0dHJpYnMoY2FudiwgW1wiaWRcIiwgXCJ3aWR0aFwiLCBcImhlaWdodFwiXSwgW25hbWUsIGAke3NpemV9cHhgLCBgJHtzaXplfXB4YF0pO1xuXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgaW1nLnNyYyA9IGltZ3NyYztcblxuICAgIHN0eWxlKGNhbnYsIGBcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOm5vbmU7XG4gICAgICAgIHRvcDogJHt5fXB4O1xuICAgICAgICBsZWZ0OiAke3h9cHg7XG4gICAgYCk7ICAgIFxuXG4gICAgbGV0IG9iaiA9IHsgXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNpemUsXG4gICAgICAgIGVsZTogY2FudiwgXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGRpcmVjdGlvbjogXCJsZWZ0XCIsXG4gICAgICAgIGltZyxcbiAgICAgICAgc3BlZWQsXG4gICAgICAgIGRpcmVjdGlvbl9kYXRhOiB7XCJub25lXCI6MH0sXG4gICAgICAgIGRyYXdfaW5kZXg6IDAsXG4gICAgICAgIGZyYW1lOjAsXG4gICAgICAgIHNob3csXG4gICAgICAgIGZyYW1lcyxcbiAgICAgICAgdXBkYXRlc19wZXJfZnJhbWVzOiAyLFxuICAgICAgICB0aW1lcjogMSxcbiAgICB9O1xuXG4gICAgaWYgKG5hbWUgPT09IFwiY2FyXCIpe1xuICAgICAgICBvYmouZGlyZWN0aW9uX2RhdGEgPSB7XCJsZWZ0XCI6MCxcImRvd25sZWZ0XCI6MSxcImRvd25cIjoyLFwidXByaWdodFwiOjMsXCJkb3ducmlnaHRcIjo0LFwidXBsZWZ0XCI6NSxcInVwXCI6NixcInJpZ2h0XCI6N31cbiAgICB9XG5cbiAgICBzY19saXN0LnB1c2gob2JqKTtcblxuICAgIGlmIChuYW1lID09PSBcImNvaW5cIil7XG4gICAgICAgIGNvaW5fbGlzdC5wdXNoKG9iaik7XG4gICAgfVxuXG4gICAgaWYgKHNob3cpe1xuICAgICAgICBjb25zdCBjdHggPSBjYW52LmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsc2l6ZSxzaXplKTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCA2NCowLCBzaXplLCBzaXplLCAwLCAwLCBzaXplLHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHJlbmRlcih3cmFwcGVyLCBjYW52KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2Fudjtcbn1cblxuY29uc3QgbW92ZVRvd2FyZHMgPSAoaW5kZXgsIHgsIHkpID0+IHtcbiAgICBjb25zdCBvYmogPSBzY19saXN0W2luZGV4XVxuICAgIGNvbnN0IGR4ID0geC1vYmoueDtcbiAgICBjb25zdCBkeSA9IHktb2JqLnk7XG4gICAgY29uc3QgbWFnID0gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpO1xuICAgIGNvbnN0IHV4ID0gKGR4L21hZykqb2JqLnNwZWVkO1xuICAgIGNvbnN0IHV5ID0gKGR5L21hZykqb2JqLnNwZWVkO1xuICAgIGNvbnN0IG54ID0gb2JqLngrdXg7XG4gICAgY29uc3QgbnkgPSBvYmoueSt1eTtcbiAgICBjb25zdCBzaXplID0gc2NfbGlzdFtpbmRleF0uc2l6ZVxuICAgIGNvbnN0IGluY29taW5nX3RpbGUgPSBkZXRlY3RUaWxlKG54LG55KVxuICAgIGlmIChtYWc+b2JqLnNwZWVkICYmICFjb2xsaXNpb25fdGlsZXMuaW5jbHVkZXMoaW5jb21pbmdfdGlsZSkpe1xuICAgICAgICBzY19saXN0W2luZGV4XS54ID0gbng7XG4gICAgICAgIHNjX2xpc3RbaW5kZXhdLnkgPSBueTtcbiAgICAgICAgdGVsZXBvcnQoaW5kZXgsIG54LXNpemUvMiwgbnktc2l6ZS8yKVxuICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4oLXV5L3V4KTtcbiAgICAgICAgaWYodXggPCAwKXtcbiAgICAgICAgICAgIGlmICgtdXkgPCAwKXtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gTWF0aC5QSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZSsgTWF0aC5QSTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbmdsZSA9IGFuZ2xlKigxODAvTWF0aC5QSSlcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IFwibGVmdFwiO1xuICAgICAgICBpZiAoYW5nbGUgPj0gMjIuNSAmJiBhbmdsZSA8PSA2Ny41KSBkaXJlY3Rpb24gPSBcInVwcmlnaHRcIlxuICAgICAgICBlbHNlIGlmIChhbmdsZSA+PSA2Ny41ICYmIGFuZ2xlIDw9IDExMi41KSBkaXJlY3Rpb24gPSBcInVwXCJcbiAgICAgICAgZWxzZSBpZiAoYW5nbGUgPj0gMTEyLjUgJiYgYW5nbGUgPD0gMTU3LjUpIGRpcmVjdGlvbiA9IFwidXBsZWZ0XCJcbiAgICAgICAgZWxzZSBpZiAoYW5nbGUgPD0gMjIuNSAmJiBhbmdsZSA+PSAtMjIuNSkgZGlyZWN0aW9uID0gXCJyaWdodFwiXG4gICAgICAgIGVsc2UgaWYgKGFuZ2xlIDw9IC0yMi41ICYmIGFuZ2xlID49IC02Ny41KSBkaXJlY3Rpb24gPSBcImRvd25yaWdodFwiXG4gICAgICAgIGVsc2UgaWYgKGFuZ2xlIDw9IC02Ny41ICYmIGFuZ2xlID49IC0xMTIuNSkgZGlyZWN0aW9uID0gXCJkb3duXCJcbiAgICAgICAgZWxzZSBpZiAoYW5nbGUgPD0gLTExMi41ICYmIGFuZ2xlID49IC0xNTcuNSkgZGlyZWN0aW9uID0gXCJkb3dubGVmdFwiXG4gICAgICAgIGVsc2UgaWYgKGFuZ2xlID49IDE1Ny41ICYmIGFuZ2xlIDw9IC0xNTcuNSkgZGlyZWN0aW9uID0gXCJsZWZ0XCJcblxuICAgICAgICBkcmF3U0MoMCwgXCJpbmNyZW1lbnRcIiwgZGlyZWN0aW9uKTtcbiAgICB9XG59XG5cbmNvbnN0IHNldFNob3cgPSAoaW5kZXgsIHNob3cpID0+IHtcbiAgICBjb25zdCB3cmFwcGVyID0gZmluZChcIi53cmFwcGVyXCIpO1xuICAgIHNjX2xpc3RbaW5kZXhdLnNob3cgPSBzaG93O1xuICAgIGlmKHNob3cpIHtcbiAgICAgICAgaWYgKGZpbmQoYCMke3NjX2xpc3RbaW5kZXhdLm5hbWV9YCkgPT09IG51bGwpIHJlbmRlcih3cmFwcGVyLCBzY19saXN0W2luZGV4XS5lbGUpO1xuICAgICAgICBpZiAoaW5kZXggPT09IDEpIGRyYXdTQygxLDEsXCJub25lXCIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZmluZChgIyR7c2NfbGlzdFtpbmRleF0ubmFtZX1gKSAhPT0gbnVsbCkgcmVtb3ZlKHdyYXBwZXIsIHNjX2xpc3RbaW5kZXhdLmVsZSk7XG4gICAgfVxufVxuXG5jb25zdCBkcmF3U0MgPSAoaW5kZXgsIGZyYW1lLCBkaXJlY3Rpb24pID0+IHtcbiAgICBsZXQgZnJhbSA9IGZyYW1lO1xuICAgIGlmIChmcmFtZSA9PT0gXCJpbmNyZW1lbnRcIil7XG4gICAgICAgIGlmIChzY19saXN0W2luZGV4XS50aW1lciA9PT0gc2NfbGlzdFtpbmRleF0udXBkYXRlc19wZXJfZnJhbWVzKXtcbiAgICAgICAgICAgIGZyYW0gPSBzY19saXN0W2luZGV4XS5mcmFtZSArIDE7XG4gICAgICAgICAgICBzY19saXN0W2luZGV4XS5mcmFtZSA9IGZyYW07XG4gICAgICAgICAgICBzY19saXN0W2luZGV4XS50aW1lciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY19saXN0W2luZGV4XS50aW1lciArPSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmcmFtID09PSBzY19saXN0W2luZGV4XS5mcmFtZXMpe1xuICAgICAgICBpZiAoc2NfbGlzdFtpbmRleF0ubmFtZSA9PT0gXCJoaWdobGlnaHRcIikgZnJhbSA9IDE7XG4gICAgICAgIGVsc2UgZnJhbSA9IDBcbiAgICAgICAgc2NfbGlzdFtpbmRleF0uZnJhbWUgPSBmcmFtO1xuICAgIH1cbiAgICBpZiAoc2NfbGlzdFtpbmRleF0udGltZXIgPT09IDEpe1xuICAgIHNjX2xpc3RbaW5kZXhdLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICBjb25zdCBkcmFpbmQgPSBzY19saXN0W2luZGV4XS5kaXJlY3Rpb25fZGF0YVtkaXJlY3Rpb25dO1xuICAgIHNjX2xpc3RbaW5kZXhdLmRyYXdfaW5kZXggPSBkcmFpbmQ7XG4gICAgY29uc3QgY3R4ID0gc2NfbGlzdFtpbmRleF0uZWxlLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBjb25zdCBzaXplID0gc2NfbGlzdFtpbmRleF0uc2l6ZTtcbiAgICBjb25zdCBpbWcgPSBzY19saXN0W2luZGV4XS5pbWc7XG4gICAgY3R4LmNsZWFyUmVjdCgwLDAsc2l6ZSxzaXplKTtcbiAgICBjdHguZHJhd0ltYWdlKGltZywgc2l6ZSpmcmFtLCBzaXplKmRyYWluZCwgc2l6ZSwgc2l6ZSwgMCwgMCwgc2l6ZSxzaXplKTtcbiAgICB9XG59XG5cbmNvbnN0IHRlbGVwb3J0ID0gKGluZGV4LCB4LCB5KSA9PntcbiAgICBzdHlsZShzY19saXN0W2luZGV4XS5lbGUsIGBcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOm5vbmU7XG4gICAgICAgIHRvcDogJHt5fXB4O1xuICAgICAgICBsZWZ0OiAke3h9cHg7XG4gICAgYCk7XG59XG5cbmNvbnN0IGRlc3Ryb3lTQyA9IChvYmopID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHNjX2xpc3QuaW5kZXhPZihvYmopO1xuICAgIGlmIChpbmRleCA+IC0xKSB7IC8vIG9ubHkgc3BsaWNlIGFycmF5IHdoZW4gaXRlbSBpcyBmb3VuZFxuICAgICAgICBpZiAoc2NfbGlzdFtpbmRleF0ubmFtZSA9PT0gXCJjb2luXCIpe1xuICAgICAgICAgICAgY29uc3QgaW5kZXgyID0gY29pbl9saXN0LmluZGV4T2Yob2JqKTtcbiAgICAgICAgICAgIGlmKGluZGV4MiA+IC0xKXtcbiAgICAgICAgICAgICAgICBjb2luX2xpc3Quc3BsaWNlKGluZGV4MiwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlKGZpbmQoXCIud3JhcHBlclwiKSwgc2NfbGlzdFtpbmRleF0uZWxlKTtcbiAgICAgICAgc2NfbGlzdC5zcGxpY2UoaW5kZXgsIDEpOyAvLyAybmQgcGFyYW1ldGVyIG1lYW5zIHJlbW92ZSBvbmUgaXRlbSBvbmx5XG4gICAgfVxufVxuXG5jb25zdCBpbml0U0MgPSAod3JhcHBlcikgPT57XG4gICAgY29uc3QgY2FyID0gc3ByaXRlQ2FudmFzKHdyYXBwZXIsIFwiY2FyXCIsIDY0LCBjYXJzcmMsIDMwMCwgMjAwLCA1LCB0cnVlLDMpO1xuICAgIGNvbnN0IGhpZ2hsaWdodCA9IHNwcml0ZUNhbnZhcyh3cmFwcGVyLCBcImhpZ2hsaWdodFwiLCA2NCwgaGxzcmMsIDAsMCwgMCwgZmFsc2UsOClcbiAgICBjb25zdCBjb2luID0gc3ByaXRlQ2FudmFzKHdyYXBwZXIsIFwiY29pblwiLCA2NCwgY29pbnNyYywgNDAwLCA1MDAsIDAsIHRydWUsIDEyKVxufVxuXG5leHBvcnR7aW5pdFNDLCBtb3ZlVG93YXJkcyAsc2V0U2hvdywgZHJhd1NDLCB0ZWxlcG9ydCwgY29pbl9saXN0LCBkZXN0cm95U0MsIHNwcml0ZUNhbnZhc30iLCJpbXBvcnQge3JlbmRlciwgY3JlYXRlLCBhZGRDbGFzcywgaGFzQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LCBzdHlsZSwgYXR0cmlic30gZnJvbSBcIi4vUW9MXCJcbmltcG9ydCB7IGdldFRpbGVzLCBtb2RpZnlUaWxlIH0gZnJvbSBcIi4vY2FudmFzRnVuY3NcIjtcblxuY29uc3QgaW5pdE1vdXNlID0gKGNhbnYpID0+IHtcbiAgICBkZXRlY3QoY2FudiwgXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnYuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb25zdCBtb3VzZVBvcyA9IGdldE1vdXNlUG9zKGNhbnYsIGV2dCk7XG4gICAgICAgIGlmIChoYXNDbGFzcyhjYW52LCBcImxheWVyLTFcIikpe1xuICAgICAgICAgICAgYmFja2dyb3VuZENoYW5nZShjdHgsIG1vdXNlUG9zKVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE1vdXNlUG9zKGNhbnZhcywgZXZ0KSB7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBldnQuY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgeTogZXZ0LmNsaWVudFkgLSByZWN0LnRvcFxuICAgIH07XG59XG5cbmNvbnN0IGJhY2tncm91bmRDaGFuZ2UgPSAoY3R4LCBtb3VzZSkgPT4ge1xuICAgIGNvbnN0IHRpbGV4ID0gTWF0aC5mbG9vcihtb3VzZS54LzY0KVxuICAgIGNvbnN0IHRpbGV5ID0gTWF0aC5mbG9vcihtb3VzZS55LzY0KVxuXG4gICAgbGV0IHRpbGVzID0gZ2V0VGlsZXMoKTtcbiAgICBsZXQgdGlsZSA9IHRpbGVzW3RpbGV4XVt0aWxleV07XG4gICAgdGlsZSsrO1xuICAgIGlmICh0aWxlPT0yMCl7XG4gICAgICAgIHRpbGUgPSAwO1xuICAgIH1cbiAgICBtb2RpZnlUaWxlKHRpbGV4LHRpbGV5LHRpbGUpO1xufVxuXG5leHBvcnQge2luaXRNb3VzZSwgZ2V0TW91c2VQb3MsIGJhY2tncm91bmRDaGFuZ2V9OyIsImltcG9ydCB7cmVuZGVyLCBjcmVhdGUsIGFkZENsYXNzLCByZW1DbGFzcywgZmluZCwgd3JpdGUsIGRldGVjdCwgc3R5bGUsIGF0dHJpYnN9IGZyb20gXCIuLi9zY3JpcHRzL1FvTFwiXG5pbXBvcnQgeyBhbmltYXRlU0NzIH0gZnJvbSBcIi4uL3NjcmlwdHMvU0NhbmltYXRpb25zXCI7XG5pbXBvcnQgeyBpbml0TW91c2UgfSBmcm9tIFwiLi4vc2NyaXB0cy9jYW52TW91c2VGdW5jc1wiO1xuaW1wb3J0IHtpbml0QmFja2dyb3VuZCwgdXBkYXRlQmFja2dyb3VuZCwgY2xlYXJ9IGZyb20gXCIuLi9zY3JpcHRzL2NhbnZhc0Z1bmNzXCI7XG5cbmxldCBzdG9wID0gZmFsc2U7XG5sZXQgZnJhbWVzID0gMDtcbmNvbnN0IGZwcyA9IDMwXG5jb25zdCBtc1BlckZyYW1lID0gMTAwMCAvIGZwc1xubGV0IG1zUHJldiA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKVxuXG5jb25zdCBjYW52YXMgPSAod2lkdGgsIGhlaWdodCwgbGF5ZXIpID0+IHtcbiAgICBjb25zdCBjYW52ID0gY3JlYXRlKFwiY2FudmFzXCIpO1xuICAgIGFkZENsYXNzKGNhbnYsIFtcImdhbWUtY2FudmFzXCIsIGBsYXllci0ke2xheWVyfWBdKTtcbiAgICBhdHRyaWJzKGNhbnYsIFtcIndpZHRoXCIsIFwiaGVpZ2h0XCJdLCBbYCR7d2lkdGh9cHhgLGAke2hlaWdodH1weGBdKTtcblxuICAgIHN0eWxlKGNhbnYsIGBcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgYCk7XG4gICAgY29uc3QgY3R4ID0gY2Fudi5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICBpbml0TW91c2UoY2Fudik7XG4gICAgXG4gICAgaWYgKGxheWVyPT09MClcbiAgICB7XG4gICAgICAgIGluaXRCYWNrZ3JvdW5kKGN0eCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbnY7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZXJ5dGhpbmcoY2FudmFzTGlzdCwgd2lkdGgsIGhlaWdodCl7XG4gICAgY29uc3QgYW5pbWF0ZUV2ZXJ5dGhpbmcgPSAoKSA9PiB7XG5cbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlRXZlcnl0aGluZyk7XG5cbiAgICAgICAgY29uc3QgbXNOb3cgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIGNvbnN0IG1zUGFzc2VkID0gbXNOb3cgLSBtc1ByZXY7XG5cbiAgICAgICAgaWYgKG1zUGFzc2VkIDwgbXNQZXJGcmFtZSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgZXhjZXNzVGltZSA9IG1zUGFzc2VkICUgbXNQZXJGcmFtZVxuICAgICAgICBtc1ByZXYgPSBtc05vdyAtIGV4Y2Vzc1RpbWVcblxuICAgICAgICAvLyBQdXQgeW91ciBkcmF3aW5nIGNvZGUgaGVyZVxuICAgICAgICBjYW52YXNMaXN0Lm1hcCgoY2FudmFzLGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgLy9jbGVhcihjdHgsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgICAgICBmcmFtZXMrKztcbiAgICAgICAgICAgIGlmIChpbmRleD09PTApe1xuICAgICAgICAgICAgICAgIHVwZGF0ZUJhY2tncm91bmQoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAvL2ltcGxlbWVudCBzb21ld2F5IHNvIHRoYXQgaXQgd29udCB1cGRhdGUgdW5sZXNzIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFuaW1hdGVTQ3MoKTtcbiAgICBcbiAgICB9XG5cbiAgICBhbmltYXRlRXZlcnl0aGluZygpO1xufVxuXG5cblxuZXhwb3J0IHtjYW52YXMsIHJ1bkV2ZXJ5dGhpbmd9IiwiaW1wb3J0IHsgaW5jcmVtZW50U2NvcmUsIHNjb3JlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVidWdUb29sc1wiO1xuaW1wb3J0IHsgdG9nZ2xlUHJvbXB0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcHJvbXB0c1wiO1xuaW1wb3J0IHsgY29pbl9saXN0LCBkZXN0cm95U0MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9zcHJpdGVjYW52YXNcIlxuaW1wb3J0IHsgZmluZCB9IGZyb20gXCIuL1FvTFwiO1xuXG5jb25zdCBhbmltYXRlU0NzID0gKCkgPT4ge1xuICAgIGNvaW5fbGlzdC5mb3JFYWNoKGNvaW4gPT4ge1xuICAgICAgICBkcmF3T2JqKGNvaW4sIFwiaW5jcmVtZW50XCIsIFwibm9uZVwiKTtcbiAgICAgICAgY2hlY2tDb2xsaXNpb24oY29pbiwgZmluZChcIiNjYXJcIikpO1xuICAgIH0pXG59XG5cbmNvbnN0IGRyYXdPYmogPSAob2JqLCBmcmFtZSwgZGlyZWN0aW9uKSA9PiB7XG4gICAgbGV0IGZyYW0gPSBmcmFtZTtcbiAgICBpZiAoZnJhbWUgPT09IFwiaW5jcmVtZW50XCIpe1xuICAgICAgICBpZiAob2JqLnRpbWVyID09PSBvYmoudXBkYXRlc19wZXJfZnJhbWVzKXtcbiAgICAgICAgICAgIGZyYW0gPSBvYmouZnJhbWUgKyAxO1xuICAgICAgICAgICAgb2JqLmZyYW1lID0gZnJhbTtcbiAgICAgICAgICAgIG9iai50aW1lciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudGltZXIgKz0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZnJhbSA9PT0gb2JqLmZyYW1lcyl7XG4gICAgICAgIGlmIChvYmoubmFtZSA9PT0gXCJoaWdobGlnaHRcIikgZnJhbSA9IDE7XG4gICAgICAgIGVsc2UgZnJhbSA9IDBcbiAgICAgICAgb2JqLmZyYW1lID0gZnJhbTtcbiAgICB9XG4gICAgaWYgKG9iai50aW1lciA9PT0gMSl7XG4gICAgICAgIG9iai5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIGNvbnN0IGRyYWluZCA9IG9iai5kaXJlY3Rpb25fZGF0YVtkaXJlY3Rpb25dO1xuICAgICAgICBvYmouZHJhd19pbmRleCA9IGRyYWluZDtcbiAgICAgICAgY29uc3QgY3R4ID0gb2JqLmVsZS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvYmouc2l6ZTtcbiAgICAgICAgY29uc3QgaW1nID0gb2JqLmltZztcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLDAsc2l6ZSxzaXplKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIHNpemUqZnJhbSwgc2l6ZSpkcmFpbmQsIHNpemUsIHNpemUsIDAsIDAsIHNpemUsc2l6ZSk7XG4gICAgfVxufVxuXG5jb25zdCBjaGVja0NvbGxpc2lvbiA9IChzYywgdGhpbmcpID0+IHtcbiAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgZmlyc3QgZWxlbWVudCBcbiAgICBjb25zdCByZWN0MSA9IHNjLmVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgXG4gICAgXG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3ggb2YgdGhlIHNlY29uZCBlbGVtZW50IFxuICAgIGNvbnN0IHJlY3QyID0gdGhpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IFxuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoZSB0d28gZWxlbWVudHMgb3ZlcmxhcCBcbiAgICBjb25zdCBvdmVybGFwID0gIShyZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHwgIFxuICAgICAgICAgICAgICAgICAgICByZWN0MS5sZWZ0ID4gcmVjdDIucmlnaHQgfHwgIFxuICAgICAgICAgICAgICAgICAgICByZWN0MS5ib3R0b20gPCByZWN0Mi50b3AgfHwgIFxuICAgICAgICAgICAgICAgICAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b20pOyBcbiAgICBcbiAgICBpZiAob3ZlcmxhcCl7XG4gICAgICAgIGRlc3Ryb3lTQyhzYyk7XG4gICAgICAgIGluY3JlbWVudFNjb3JlKCk7XG4gICAgICAgIGlmIChzY29yZSA9PT0gMTApe1xuICAgICAgICAgICAgdG9nZ2xlUHJvbXB0KFwid2luXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQge2FuaW1hdGVTQ3N9IiwiaW1wb3J0IHtyZW5kZXIsIGNyZWF0ZSwgYWRkQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LHN0eWxlfSBmcm9tIFwiLi4vc2NyaXB0cy9Rb0xcIlxuXG5jb25zdCB3cmFwcGVyID0gKCkgPT57ICAgXG4gICAgY29uc3QgcmFwcGVyID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKHJhcHBlciwgW1wid3JhcHBlclwiXSk7XG4gICAgc3R5bGUocmFwcGVyLGBcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgIGxlZnQ6IC0zMjBweDtcbiAgICBgKVxuICAgIHJlbmRlcihkb2N1bWVudC5ib2R5LCByYXBwZXIpO1xuICAgIHJldHVybiByYXBwZXI7XG59XG5cbmNvbnN0IG1pbmlXcmFwcGVyID0gKCkgPT57XG4gICAgY29uc3QgcmFwcGVyID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKHJhcHBlciwgW1wibWluaS13cmFwcGVyXCJdKTtcbiAgICBzdHlsZShyYXBwZXIsYFxuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDAwMDtcbiAgICAgICAgdG9wOiA2NTBweDtcbiAgICAgICAgd2lkdGg6IDY0MHB4O1xuICAgICAgICBkaXNwbGF5OmZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgXG4gICAgICAgIGhlaWdodDo2NHB4O1xuICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgYClcbiAgICByZW5kZXIoZG9jdW1lbnQuYm9keSwgcmFwcGVyKTtcbiAgICByZXR1cm4gcmFwcGVyO1xufVxuXG5leHBvcnQge3dyYXBwZXIsIG1pbmlXcmFwcGVyfTsiLCJpbXBvcnQge3JlbmRlciwgcmVtb3ZlLCBjcmVhdGUsIGFkZENsYXNzLCByZW1DbGFzcywgZmluZCwgd3JpdGUsIGRldGVjdCwgdW5kZXRlY3QsIHN0eWxlLCBhdHRyaWJzfSBmcm9tIFwiLi4vc2NyaXB0cy9Rb0xcIlxuaW1wb3J0IENhbiBmcm9tIFwiLi4vaW1hZ2VzL2Nhbi5wbmdcIlxuaW1wb3J0IENvaW4gZnJvbSBcIi4uL2ltYWdlcy9jb2luLnBuZ1wiXG5pbXBvcnQgZGVjb3IgZnJvbSBcIi4uL2ltYWdlcy9kZWNvci5wbmdcIlxuaW1wb3J0IHsgYmFja2dyb3VuZENoYW5nZSB9IGZyb20gXCIuLi9zY3JpcHRzL2NhbnZNb3VzZUZ1bmNzXCI7XG5pbXBvcnQgeyBzcHJpdGVDYW52YXMgfSBmcm9tIFwiLi9zcHJpdGVjYW52YXNcIjtcblxubGV0IG1pbmlMaXN0ID0gW107XG5cbmZ1bmN0aW9uIG1pbmlDYW52YXMobmFtZSwgaW1nLCBpbWdzcmMpe1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5zaXplID0gNjQ7XG4gICAgdGhpcy5pbWcgPSBpbWc7XG4gICAgdGhpcy5pbWdzcmMgPSBpbWdzcmM7XG4gICAgdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuICAgIHRoaXMuY2FudmVsZTtcbiAgICB0aGlzLmltZ2VsZTtcblxuICAgIHRoaXMuaW5pdCA9IChpbmRleCkgPT57XG4gICAgICAgIHRoaXMuYWRkZWRsZWZ0ID0gbWluaUxpc3QubGVuZ3RoKjY0O1xuXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLm5hbWU7XG4gICAgICAgIGNvbnN0IGNhbnYgPSBjcmVhdGUoXCJjYW52YXNcIik7XG4gICAgICAgIGFkZENsYXNzKGNhbnYsIFtcIm1pbmktY2FudmFzXCIsIGAke25hbWV9YF0pO1xuICAgICAgICBhdHRyaWJzKGNhbnYsIFtcIndpZHRoXCIsIFwiaGVpZ2h0XCJdLCBbYCR7c2l6ZX1weGAsYCR7c2l6ZX1weGBdKTtcblxuXG4gICAgICAgIHN0eWxlKGNhbnYsIGBcbiAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICAgICAgbWFyZ2luOiA1IGF1dG87XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czpub25lO1xuICAgICAgICBgKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2Fudi5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnN0IGltZyA9IHRoaXMuaW1nO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxzaXplLHNpemUpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHNpemUsIHNpemUsIDAsIDAsIHNpemUsc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbnZlbGUgPSBjYW52O1xuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcblxuICAgICAgICBjb25zdCBpbWdlbGUgPSBjcmVhdGUoXCJkaXZcIik7XG4gICAgICAgIGFkZENsYXNzKGltZ2VsZSwgW1wiY2FudmFzLWljb25cIl0pXG4gICAgICAgIHN0eWxlKGltZ2VsZSwgYFxuICAgICAgICAgICAgd2lkdGg6IDY0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDY0cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJHt0aGlzLmltZ3NyY30pIC02NHB4IDAsIHVybCgke2RlY29yfSk7XG4gICAgICAgIGApXG4gICAgICAgIHRoaXMuaW1nZWxlID0gaW1nZWxlO1xuXG4gICAgICAgIHRoaXMuaW5pdE1vdXNlKGNhbnYsIGltZ2VsZSk7XG5cbiAgICAgICAgcmV0dXJuIGltZ2VsZTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRNb3VzZSA9IChjYW52LCBpbWdlbGUpID0+IHtcbiAgICAgICAgY29uc3QgY3R4ID0gY2Fudi5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCBtb3VzZVBvcztcbiAgICAgICAgY29uc3QgYmFja2NhbnYgPSBmaW5kKFwiLmxheWVyLTFcIik7XG4gICAgICAgIGxldCBpbnRlcnZhbF9saXN0ID0gW107XG4gICAgICAgIGxldCBtb3VzZVBvczI7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBsZXQgY3VyRnJhID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgY29uc3QgaG92ZXJGdW5jID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGludGVydmFsX2xpc3QubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBpbnRlcnZhbF9saXN0LnB1c2goc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJGcmEgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZSA9PT0gXCJjYW5cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ2hhbmdlKGN0eCwgbW91c2VQb3MyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1ckZyYSA9PT0gMTQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckZyYSA9IDEwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5uYW1lID09PSBcImNvaW5cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJGcmEgPT09IDEyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcmEgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IHRoaXMuaW1nO1xuICAgICAgICAgICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsMCxzaXplLHNpemUpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgY3VyRnJhKnNpemUsIDAsIHNpemUsIHNpemUsIDAsIDAsIHNpemUsc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZyYW1lID0gY3VyRnJhO1xuICAgICAgICAgICAgICAgIH0sIDI1MCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBkYXRlRHJhZyA9IChldnQpID0+e1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgcmVjdDIgPSBiYWNrY2Fudi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIG1vdXNlUG9zMiA9IHtcbiAgICAgICAgICAgICAgICB4OiBldnQuY2xpZW50WCAtIHJlY3QyLmxlZnQsXG4gICAgICAgICAgICAgICAgeTogZXZ0LmNsaWVudFkgLSByZWN0Mi50b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtb3VzZVBvcyA9IHtcbiAgICAgICAgICAgICAgICB4OiBldnQuY2xpZW50WCAtIHJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICB5OiBldnQuY2xpZW50WSAtIHJlY3QudG9wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnYuc3R5bGUudG9wID0gbW91c2VQb3MueSAtMzIgK1wicHhcIjtcbiAgICAgICAgICAgIGNhbnYuc3R5bGUubGVmdCA9IG1vdXNlUG9zLnggLTMyICsgXCJweFwiO1xuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb3VzZURvd25GdW5jID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgbGV0IGN1ckZyYSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7ICBcbiAgICAgICAgICAgIGNhbnYuc3R5bGUudG9wID1cIi0xMDAwcHhcIjtcbiAgICAgICAgICAgIGNhbnYuc3R5bGUubGVmdCA9IFwiLTEwMDBweFwiO1xuICAgICAgICAgICAgcmVuZGVyKGRvY3VtZW50LmJvZHksY2Fudik7XG4gICAgICAgICAgICBkZXRlY3QoZG9jdW1lbnQuYm9keSwgXCJtb3VzZW1vdmVcIiwgdXBkYXRlRHJhZylcbiAgICAgICAgICAgIGRldGVjdChiYWNrY2FudiwgXCJtb3VzZWVudGVyXCIsIGhvdmVyRnVuYylcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLHNpemUsc2l6ZSk7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgY3VyRnJhKnNpemUsIDAsIHNpemUsIHNpemUsIDAsIDAsIHNpemUsc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb3VzZVVwRnVuYyA9IChldnQpID0+IHtcbiAgICAgICAgICAgIHVuZGV0ZWN0KGRvY3VtZW50LmJvZHksIFwibW91c2Vtb3ZlXCIsIHVwZGF0ZURyYWcpXG4gICAgICAgICAgICB1bmRldGVjdChiYWNrY2FudiwgXCJtb3VzZWVudGVyXCIsIGhvdmVyRnVuYylcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbF9saXN0Lmxlbmd0aCE9PTApe1xuICAgICAgICAgICAgICAgIGlmKG5hbWUgPT09IFwiY29pblwiKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29pbiA9IHNwcml0ZUNhbnZhcyhmaW5kKFwiLndyYXBwZXJcIiksIFwiY29pblwiLCA2NCwgQ29pbiwgbW91c2VQb3MyLngtMzIsIG1vdXNlUG9zMi55LTMyLCAwLCB0cnVlLCAxMilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsX2xpc3RbMF0pO1xuICAgICAgICAgICAgaW50ZXJ2YWxfbGlzdCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgaGFzQ2hpbGQgPSBmaW5kKGAubWluaS1jYW52YXMuJHt0aGlzLm5hbWV9YCkgIT0gbnVsbDtcbiAgICAgICAgICAgIGlmIChoYXNDaGlsZCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZShkb2N1bWVudC5ib2R5LCBjYW52KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLHNpemUsc2l6ZSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGRldGVjdChpbWdlbGUsIFwibW91c2Vkb3duXCIsIG1vdXNlRG93bkZ1bmMpO1xuICAgICAgICBkZXRlY3QoZG9jdW1lbnQuYm9keSwgXCJtb3VzZXVwXCIsIG1vdXNlVXBGdW5jKTtcbiAgICB9ICAgICAgIFxufVxuXG5jb25zdCBpbml0TWluaSA9IChuYW1lLCBpbWdzcmMpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgIGltZy5zcmMgPSBpbWdzcmM7XG4gICAgY29uc3QgbWluaSA9IG5ldyBtaW5pQ2FudmFzKG5hbWUsIGltZywgaW1nc3JjKVxuICAgIGNvbnN0IG1pbmllbGUgPSBtaW5pLmluaXQobWluaUxpc3QubGVuZ3RoKTtcbiAgICBtaW5pTGlzdC5wdXNoKG1pbmkpO1xuICAgIHJldHVybiBtaW5pZWxlO1xufVxuXG5jb25zdCBpbml0TWluaXMgPSAobWluaVdyYXBwZXIpID0+IHtcbiAgICByZW5kZXIobWluaVdyYXBwZXIsIGluaXRNaW5pKFwiY2FuXCIsIENhbikpXG4gICAgcmVuZGVyKG1pbmlXcmFwcGVyLCBpbml0TWluaShcImNvaW5cIiwgQ29pbikpXG59XG5cbmV4cG9ydCB7aW5pdE1pbmlzfSIsImltcG9ydCB7cmVuZGVyLCByZW1vdmUsIGNyZWF0ZSwgYWRkQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgZGV0ZWN0LCB1bmRldGVjdCwgc3R5bGUsIGhhc0NsYXNzfSBmcm9tIFwiLi4vc2NyaXB0cy9Rb0xcIlxuaW1wb3J0IGJ1dHRvbnMgZnJvbSBcIi4uL2ltYWdlcy9CdXR0b25zX3VwZGF0ZWQucG5nXCJcbmltcG9ydCB7IHRvZ2dsZVByb21wdCB9IGZyb20gXCIuL3Byb21wdHNcIjtcbmltcG9ydCB7IGNvaW5fbGlzdCwgZGVzdHJveVNDLCBkcmF3U0MsIG1vdmVUb3dhcmRzLCBzZXRTaG93LCB0ZWxlcG9ydCB9IGZyb20gXCIuL3Nwcml0ZWNhbnZhc1wiO1xuaW1wb3J0IGJhY2tncm91bmQgZnJvbSBcIi4uL2ltYWdlcy9zb2xpZF9iYWNrZ3JvdW5kcy5wbmdcIjtcblxuY29uc3QgYnV0U2l6ZSA9IDMyO1xubGV0IGJ1dE92O1xubGV0IHBvaW50ZXIgPSBmYWxzZTtcbmxldCBwb2ludFRpbWUgPSBbXTtcbmxldCBiZyA9IC0xO1xuXG5jb25zdCBidXR0b25PdmVybGF5ID0gKHdpZHRoLCBoZWlnaHQpID0+e1xuICAgIGJ1dE92ID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKGJ1dE92LCBbJ2J1dHRvbi1vdmVybGF5J10pO1xuICAgIHN0eWxlKGJ1dE92LCBgXG4gICAgICAgIG1pbi1oZWlnaHQ6ICR7aGVpZ2h0fTtcbiAgICAgICAgbWluLXdpZHRoOiAke3dpZHRofTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGApXG5cbiAgICBnZW5lcmF0ZUJ1dHRvbnMoYnV0T3YpO1xuXG4gICAgcmV0dXJuIGJ1dE92O1xufVxuXG5jb25zdCBnZW5lcmF0ZUJ1dHRvbnMgPSAoYnV0T3YpID0+IHtcbiAgICByZW5kZXIoYnV0T3YsIEJ1dHRvbihcInByb21wdGJ1dC0xXCIsIDIsIHRvZ2dsZVByb21wdCwgMTYsIDE2KSlcbiAgICByZW5kZXIoYnV0T3YsIEJ1dHRvbihcInNoYWtlclwiLCAzLCB0b2dnbGVTaGFrZSwgMTYsIDgwKSlcbiAgICByZW5kZXIoYnV0T3YsIEJ1dHRvbihcInBvaW50ZXJcIiwgNywgdG9nZ2xlUG9pbnRlciwgMTYsIDE0NCkpXG4gICAgcmVuZGVyKGJ1dE92LCBCdXR0b24oXCJjaGFuZ2ViZ1wiLCA4LCBjaGFuZ2VCYWNrZ3JvdW5kLCAxNiwgMjA4KSlcbn1cblxuY29uc3QgQnV0dG9uID0gKG5hbWUsIHNwcml0ZW51bSwgZnVuYywgeCwgeSkgPT57XG4gICAgY29uc3QgYnV0dG9uID0gY3JlYXRlKFwiZGl2XCIpO1xuICAgIGFkZENsYXNzKGJ1dHRvbiwgW1wiYnV0dG9uXCIsIG5hbWVdKTtcbiAgICBidXR0b24uaWQgPSBuYW1lO1xuICAgICAgICBzdHlsZShidXR0b24sIGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIGxlZnQ6JHt4fXB4O1xuICAgICAgICAgICAgdG9wOiAke3l9cHg7XG4gICAgICAgICAgICB3aWR0aDogJHtidXRTaXplfXB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAke2J1dFNpemV9cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJHtidXR0b25zfSkgLSR7c3ByaXRlbnVtKmJ1dFNpemV9cHggMDtcbiAgICAgICAgYCk7XG5cbiAgICBkZXRlY3QoYnV0dG9uLCBcImNsaWNrXCIsIGZ1bmMpO1xuICAgIFxuICAgIHJldHVybiBidXR0b247XG59XG5cbmNvbnN0IHRvZ2dsZVNoYWtlID0gKGUpID0+IHtcbiAgICBjb25zdCBwcm9tcHRidXQgPSBmaW5kKFwiI3Byb21wdGJ1dC0xXCIpO1xuICAgIGlmIChoYXNDbGFzcyhwcm9tcHRidXQsIFwidmlicmF0ZVwiKSl7XG4gICAgICAgIHJlbUNsYXNzKHByb21wdGJ1dCwgW1widmlicmF0ZVwiXSk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQoKCkgPT4gYWRkQ2xhc3MocHJvbXB0YnV0LCBbXCJ2aWJyYXRlXCJdKSwgMTAwKTtcblxuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IGNvaW5fbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgICBkZXN0cm95U0MoY29pbl9saXN0W2ldKTtcbiAgICB9XG59XG5cbmNvbnN0IGNoYW5nZUJhY2tncm91bmQgPSAoZSkgPT4ge1xuICAgIGJnICs9IDE7XG4gICAgaWYgKGJnID09PSAyKSBiZyA9IC0xO1xuICAgIGNvbnN0IGNhbnYgPSBmaW5kKFwiLmxheWVyLTFcIik7XG4gICAgY29uc3QgY3R4ID0gY2Fudi5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgY29uc3Qgc2l6ZSA9IDMyMDtcbiAgICBpZiAoYmcgIT09IC0xKXtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5zcmMgPSBiYWNrZ3JvdW5kO1xuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMzIwKmJnLCAwLCBzaXplLCBzaXplLCAwLCAwLCA2NDAsNjQwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGN0eC5jbGVhclJlY3QoMCwwLDY0MCw2NDApO1xufVxuXG5jb25zdCB0b2dnbGVQb2ludGVyID0gKGV2dCkgPT4ge1xuICAgIGNvbnN0IGJ1dCA9IGZpbmQoXCIjcG9pbnRlclwiKVxuICAgIGNvbnN0IGNhbnYgPSBmaW5kKFwiLmxheWVyLTBcIilcbiAgICBjb25zdCByZWN0ID0gY2Fudi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgbW91c2VQb3MgPSB7eDowLHk6MH07XG5cbiAgICBjb25zdCB1cGRhdGVQb2ludGVyID0gKGV2dCkgPT57XG4gICAgICAgIFxuICAgICAgICBtb3VzZVBvcyA9IHtcbiAgICAgICAgICAgIHg6IGV2dC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgeTogZXZ0LmNsaWVudFkgLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGVQb2ludGVyKGV2dCk7XG5cbiAgICBpZiAocG9pbnRlcil7XG4gICAgICAgIHBvaW50ZXIgPSBmYWxzZTtcbiAgICAgICAgcmVtQ2xhc3MoYnV0LCBbXCJzZWxlY3RlZFwiXSk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocG9pbnRUaW1lWzBdKTtcbiAgICAgICAgcG9pbnRUaW1lID0gW107XG4gICAgICAgIHVuZGV0ZWN0KGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsIHVwZGF0ZVBvaW50ZXIpO1xuICAgICAgICBzZXRTaG93KDEsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgcG9pbnRlciA9IHRydWU7XG4gICAgICAgIGFkZENsYXNzKGJ1dCwgW1wic2VsZWN0ZWRcIl0pXG4gICAgICAgIGRldGVjdChkb2N1bWVudC5ib2R5LFwibW91c2Vtb3ZlXCIsIHVwZGF0ZVBvaW50ZXIpO1xuXG4gICAgICAgIHBvaW50VGltZS5wdXNoKHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbW92ZVRvd2FyZHMoMCwgbW91c2VQb3MueCxtb3VzZVBvcy55KTtcbiAgICAgICAgICAgIGRyYXdTQygxLFwiaW5jcmVtZW50XCIsXCJub25lXCIpO1xuICAgICAgICAgICAgdGVsZXBvcnQoMSxNYXRoLmZsb29yKG1vdXNlUG9zLngvNjQpKjY0LCBNYXRoLmZsb29yKG1vdXNlUG9zLnkvNjQpKjY0KTtcbiAgICAgICAgfSwgNTApKTtcbiAgICAgICAgc2V0U2hvdygxLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7YnV0dG9uT3ZlcmxheSAsdG9nZ2xlUG9pbnRlcn0iLCJpbXBvcnQgeyB0b2dnbGVQcm9tcHQgfSBmcm9tIFwiLi9jb21wb25lbnRzL3Byb21wdHNcIjtcbmltcG9ydCB7IGFkZENsYXNzLCBjcmVhdGUsIHJlbmRlciwgc3R5bGUgfSBmcm9tIFwiLi9zY3JpcHRzL1FvTFwiO1xuaW1wb3J0IHtpbml0Q2FudmFzZXMsIGluaXREZWJ1ZywgaW5pdE1pbmlDYW52YXNlcywgaW5pdEJ1dHRvbk92ZXJsYXl9IGZyb20gXCIuL3NjcmlwdHMvc3RhcnRcIjtcblxuY29uc3QgZ2FtZSA9IGNyZWF0ZShcImRpdlwiKTtcbmFkZENsYXNzKGdhbWUsIFtcImdhbWVcIl0pO1xucmVuZGVyKGRvY3VtZW50LmJvZHksIGdhbWUpO1xuc3R5bGUoZ2FtZSwgYFxuICAgIGRpc3BsYXk6ZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjpjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OmNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczpjZW50ZXI7XG4gICAgcG9zaXRpb246cmVsYXRpdmU7XG5gKVxuXG5yZW5kZXIoZ2FtZSwgaW5pdENhbnZhc2VzKCkpO1xucmVuZGVyKGdhbWUsIGluaXRNaW5pQ2FudmFzZXMoKSk7XG5yZW5kZXIoZ2FtZSwgaW5pdERlYnVnKCkpO1xuXG50b2dnbGVQcm9tcHQoXCJ0dXRvcmlhbFwiKTsiLCJpbXBvcnQgJy4uL2Nzcy9hbmltYXRpb25zLmNzcyc7XG5pbXBvcnQgJy4uL2Nzcy9mb250cy5jc3MnO1xuaW1wb3J0IHBhdHRlcm4gZnJvbSBcIi4uL2ltYWdlcy9wYXR0ZXJuXzEwMi5naWZcIlxuaW1wb3J0IHtyZW5kZXIsIGNyZWF0ZSwgYWRkQ2xhc3MsIHJlbUNsYXNzLCBmaW5kLCB3cml0ZSwgc3R5bGUsIGRldGVjdH0gZnJvbSBcIi4uL3NjcmlwdHMvUW9MXCJcbmltcG9ydCB7IGNhbnZhcywgcnVuRXZlcnl0aGluZyB9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FudmFzJztcbmltcG9ydCB7IHdyYXBwZXIsIG1pbmlXcmFwcGVyIH0gZnJvbSAnLi4vY29tcG9uZW50cy93cmFwcGVyJztcbmltcG9ydCB7IGRlYnVnVG9vbHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2RlYnVnVG9vbHMnO1xuaW1wb3J0IHsgaW5pdE1pbmlzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9taW5pQ2FudmFzJztcbmltcG9ydCB7IGJ1dHRvbk92ZXJsYXkgfSBmcm9tICcuLi9jb21wb25lbnRzL2J1dHRvbk92ZXJsYXknO1xuaW1wb3J0IHsgaW5pdFNDIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zcHJpdGVjYW52YXMnO1xuXG5jb25zdCB3aWR0aCA9IDY0MDtcbmNvbnN0IGhlaWdodCA9IDY0MDtcblxuY29uc3QgaW5pdENhbnZhc2VzID0gKCkgPT4ge1xuICAgIHN0eWxlKGRvY3VtZW50LmJvZHksIGBcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzI0MjQyNDtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiJHtwYXR0ZXJufVwiKTtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiA3MHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0O1xuICAgIGApXG4gICAgY29uc3QgcmFwcGVyID0gd3JhcHBlcigpO1xuICAgIGNvbnN0IGJhY2tncm91bmRDYW52YXMgPSBjYW52YXMod2lkdGgsaGVpZ2h0LDApO1xuICAgIGNvbnN0IHNvbGlkQkdzID0gY2FudmFzKHdpZHRoLGhlaWdodCwxKTtcbiAgICByZW5kZXIocmFwcGVyLCBiYWNrZ3JvdW5kQ2FudmFzKTtcbiAgICByZW5kZXIocmFwcGVyLCBzb2xpZEJHcyk7XG4gICAgaW5pdFNDKHJhcHBlcik7XG4gICAgY29uc29sZS5sb2coXCJjb21tZW5jaW5nXCIpO1xuICAgIHJ1bkV2ZXJ5dGhpbmcoW2JhY2tncm91bmRDYW52YXMsIHNvbGlkQkdzXSwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgYnV0T3YgPSBidXR0b25PdmVybGF5KHdpZHRoLCBoZWlnaHQpXG4gICAgcmVuZGVyKHJhcHBlciwgYnV0T3YpO1xuICAgIHJldHVybiByYXBwZXI7XG59XG5cbmNvbnN0IGluaXRNaW5pQ2FudmFzZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgbWluaXJhcHBlciA9IG1pbmlXcmFwcGVyKCk7XG4gICAgaW5pdE1pbmlzKG1pbmlyYXBwZXIpO1xuICAgIHJldHVybiBtaW5pcmFwcGVyO1xufVxuXG5jb25zdCBpbml0RGVidWcgPSAoKSA9PntcbiAgICBjb25zdCBkZWJ1Z1Rvb2wgPSBkZWJ1Z1Rvb2xzKCk7XG4gICAgcmVuZGVyKGRvY3VtZW50LmJvZHksIGRlYnVnVG9vbCk7XG4gICAgcmV0dXJuIGRlYnVnVG9vbDtcbn1cblxuZXhwb3J0IHtpbml0Q2FudmFzZXMsIGluaXRNaW5pQ2FudmFzZXMsIGluaXREZWJ1Z30iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyIsIlVSTCIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJ1cmwiLCJvcHRpb25zIiwiU3RyaW5nIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2xpY2UiLCJoYXNoIiwibmVlZFF1b3RlcyIsInJlcGxhY2UiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibiIsImdldHRlciIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwIiwiYiIsImJhc2VVUkkiLCJzZWxmIiwiaHJlZiIsIm5jIiwicmVuZGVyIiwicGFyZW50IiwiY2hpbGQiLCJjcmVhdGUiLCJhZGRDbGFzcyIsImNsYXNzbGlzdCIsImZvckVhY2giLCJjbGFzIiwiY2xhc3NMaXN0IiwiYWRkIiwiaGFzQ2xhc3MiLCJjb250YWlucyIsInJlbUNsYXNzIiwiZmluZCIsInNlbGVjdG9yIiwid3JpdGUiLCJ0ZXh0IiwidGV4dENvbnRlbnQiLCJkZXRlY3QiLCJldmVudCIsImZ1bmMiLCJhZGRFdmVudExpc3RlbmVyIiwidW5kZXRlY3QiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3R5bGV0ZXh0IiwiYXR0cmlicyIsImF0dHJpYkxpc3QiLCJ2YWx1ZXMiLCJhdHRyaWIiLCJjdXJyZW50TW92aW5nQ29kZSIsInRvZ2dsZVByb21wdCIsImNvZGUiLCJwcm9tcHQiLCJleGlzdHMiLCJzZXRUaW1lb3V0IiwiY3JlYXRlUHJvbXB0IiwibXl0ZXh0IiwiZHJhZyIsImRyYWdCYXIiLCJjcmVhdGVUZXh0IiwiYmFyIiwiY2xvc2VQcm9tcHQiLCJtb3VzZURvd24iLCJtb3VzZVVwIiwic3BsaXQiLCJwcmV2ZW50RGVmYXVsdCIsImJvZHkiLCJtb3VzZU1vdmUiLCJldnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibW91c2VQb3MiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJsb2NhbHMiLCJzY29yZSIsImluY3JlbWVudFNjb3JlIiwic2NvcmVlbGUiLCJzbGlkZUZ1bmMiLCJ2YWx1ZSIsInRpbGVzIiwiY29sbGlzaW9uX3RpbGVzIiwidXBkYXRlQmFja2dyb3VuZCIsImN0eCIsIndpZHRoIiwiaGVpZ2h0IiwicmVuZGVyVGlsZXMiLCJyb3ciLCJ0aWxlIiwiaW5kZXgyIiwiZHJhd1RpbGUiLCJ4IiwieSIsInNpemUiLCJ0aWxlc2V0IiwiSW1hZ2UiLCJvbmxvYWQiLCJkcmF3SW1hZ2UiLCJzY19saXN0IiwiY29pbl9saXN0Iiwic3ByaXRlQ2FudmFzIiwid3JhcHBlciIsIm5hbWUiLCJpbWdzcmMiLCJzcGVlZCIsInNob3ciLCJmcmFtZXMiLCJjYW52IiwiaW1nIiwiZWxlIiwiZGlyZWN0aW9uIiwiZGlyZWN0aW9uX2RhdGEiLCJkcmF3X2luZGV4IiwiZnJhbWUiLCJ1cGRhdGVzX3Blcl9mcmFtZXMiLCJ0aW1lciIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJzZXRTaG93IiwiZHJhd1NDIiwiZnJhbSIsImRyYWluZCIsInRlbGVwb3J0IiwiZGVzdHJveVNDIiwiaW5kZXhPZiIsImJhY2tncm91bmRDaGFuZ2UiLCJtb3VzZSIsInRpbGV4IiwiTWF0aCIsImZsb29yIiwidGlsZXkiLCJtb2RpZnlUaWxlIiwibXNQZXJGcmFtZSIsIm1zUHJldiIsInBlcmZvcm1hbmNlIiwibm93IiwiY2FudmFzIiwiZ2V0TW91c2VQb3MiLCJpbml0TW91c2UiLCJBcnJheSIsImZpbGwiLCJjb25zb2xlIiwibG9nIiwiaW5pdEJhY2tncm91bmQiLCJydW5FdmVyeXRoaW5nIiwiY2FudmFzTGlzdCIsImFuaW1hdGVFdmVyeXRoaW5nIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNOb3ciLCJtc1Bhc3NlZCIsImNvaW4iLCJkcmF3T2JqIiwic2MiLCJ0aGluZyIsInJlY3QxIiwicmVjdDIiLCJyaWdodCIsImJvdHRvbSIsImNoZWNrQ29sbGlzaW9uIiwibWluaUxpc3QiLCJtaW5pQ2FudmFzIiwiY3VycmVudEZyYW1lIiwiY2FudmVsZSIsImltZ2VsZSIsImluaXQiLCJhZGRlZGxlZnQiLCJiYWNrY2FudiIsIm1vdXNlUG9zMiIsImludGVydmFsX2xpc3QiLCJjdXJGcmEiLCJob3ZlckZ1bmMiLCJzZXRJbnRlcnZhbCIsInVwZGF0ZURyYWciLCJjbGVhckludGVydmFsIiwiaW5pdE1pbmkiLCJtaW5pIiwibWluaWVsZSIsInBvaW50ZXIiLCJwb2ludFRpbWUiLCJiZyIsIkJ1dHRvbiIsInNwcml0ZW51bSIsImJ1dHRvbiIsInRvZ2dsZVNoYWtlIiwicHJvbXB0YnV0IiwiY2hhbmdlQmFja2dyb3VuZCIsInRvZ2dsZVBvaW50ZXIiLCJidXQiLCJ1cGRhdGVQb2ludGVyIiwiZHgiLCJkeSIsIm1hZyIsInNxcnQiLCJ1eCIsInV5IiwibngiLCJueSIsImluY29taW5nX3RpbGUiLCJqIiwiZGV0ZWN0VGlsZSIsImluY2x1ZGVzIiwiYW5nbGUiLCJhdGFuIiwiUEkiLCJtb3ZlVG93YXJkcyIsImdhbWUiLCJyYXBwZXIiLCJiYWNrZ3JvdW5kQ2FudmFzIiwic29saWRCR3MiLCJidXRPdiIsImdlbmVyYXRlQnV0dG9ucyIsImluaXRDYW52YXNlcyIsIm1pbmlyYXBwZXIiLCJtaW5pV3JhcHBlciIsImluaXRNaW5pQ2FudmFzZXMiLCJkZWJ1Z1Rvb2wiLCJkZWJ1Z1dyYXAiLCJzbGlkZXIiLCJzbGlkZXIyIiwiZGVidWdUb29scyIsImluaXREZWJ1ZyJdLCJzb3VyY2VSb290IjoiIn0=